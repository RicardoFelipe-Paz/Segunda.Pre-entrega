(window._vfP=window._vfP||[]).push([[179,180],{510:function(t,n,e){"use strict";e.r(n),e.d(n,"REPLY_THREAD_MODES",(function(){return f})),e.d(n,"replyThreads",(function(){return l}));e(3);var r=e(2),i=e(37),u=e(105),c=e(47),a={[r.ub](t,n){(t[n]||[]).pop()},[r.a]:Object(u.a)(i.default,(function(t,n){return!n.some((function(n){return n.thread_uuid===t.thread_uuid}))})),[r.C]:Object(c.e)(i.default),[r.id](t,n){var e=n.uuid,r=n.mode,i=t[e];i[i.length-1].mode=r}},o=e(0),s={[o.a]:function(t){return function(n){var e=t[n]||[];return e[e.length-1]||{}}},[o.Mb]:function(t){return function(n){return Boolean(t[n])}}},d={[e(4).a](t,n){var e=n.thread_uuid,i=n.offset_top,u=n.mode,c=t.getters[o.R](e),a=t.getters[o.V](e);i=t.getters[o.a](a).offset_top||i;var s={key:a,items:[{parent_thread_uuid:c.thread_uuid,content_container_uuid:a,thread_uuid:e,offset_top:i,mode:u}]};t.commit(r.a,s)}},f={MENTION:"mention",REPLY_PARENT:"reply",REPLIES:"replies"},_=function(){return{}},l=function(){return{state:_,mutations:a,getters:s,actions:d}}},631:function(t,n,e){"use strict";e.r(n),e.d(n,"storeModule",(function(){return I}));e(44),e(58),e(92),e(15),e(26),e(3),e(16),e(38);var r=e(2),i=e(81),u=e(47),c=e(856),a=e(409),o=e(37),s={[r.lc]:Object(u.h)(o.default,a.c),[r.Ic](t,n){delete n.item.actions,Object(u.h)(o.default,a.c)(t,n)},[r.Db]:Object(u.e)(o.default),[r.db](t,n){t[n].isNew=!1},[r.cb](t,n){t[n].isNew=!0},[r.fb](t,n){t[n].read=!1},[r.eb](t,n){t[n].read=!0},[r.qc](t,n){var e=n.content_uuid,r=n.place;t[e].place=r},[r.mc](t,n){var e=n.content_uuid,r=n.animation;t[e].animation=Object.values(a.a).includes(r)?r:a.a.NONE},[r.Z](t,n){t[n].is_picked=!0},[r.ab](t,n){t[n].is_picked=!1},[r.cd](t,n){t[n].state_reasons.push(i.d.CONTENT_MARKED_AS_SPAM)},[r.bb](t,n){t[n].state=i.c.VISIBLE,t[n].simplified_state=i.c.VISIBLE,t[n].state_reasons=t[n].state_reasons.filter((function(t){return t!==i.d.CONTENT_DISABLED&&t!==i.d.CONTENT_MARKED_AS_SPAM&&t!==i.d.CONTENT_AWAITING_MODERATION}))},[r.Y](t,n){t[n].simplified_state=i.c.DISABLED,t[n].state_reasons.push(i.d.CONTENT_DISABLED)},[r.tb](t,n){t[n].is_pinned=!0,t[n].date_pinned=Date.now()},[r.hd](t,n){t[n].is_pinned=!1,t[n].date_pinned=void 0},[r.pc](t,n){var e=n.content_uuid,r=n.simplified_state;t[e].simplified_state=r,t[e].state_reasons.push(i.d.CONTENT_DELETED)},[r.bc](t){Object.values(t).forEach((function(t){t.actions=[]}))},[r.jb]:Object(c.b)("total_likes"),[r.X]:Object(c.a)("total_likes"),[r.hb]:Object(c.b)("total_dislikes"),[r.W]:Object(c.a)("total_dislikes"),[r.j](t,n){t[n].actions=t[n].actions.concat("flag")},[r.H](t,n){t[n].total_flags=0,t[n].actions=t[n].actions.filter((function(t){return"flag"!==t}))},[r.m](t,n){t[n].actions=t[n].actions.concat("like")},[r.k](t,n){t[n].actions=t[n].actions.concat("flag"),t[n].total_flags+=1},[r.ib]:Object(c.b)("total_flags"),[r.f](t,n){t[n].actions=t[n].actions.concat("dislike")},[r.Rb](t,n){t[n].actions=t[n].actions.filter((function(t){return"like"!==t}))},[r.Eb](t,n){t[n].actions=t[n].actions.filter((function(t){return"dislike"!==t}))},[r.o](t,n){var e=n.parent_uuid,r=n.child_uuid;t[e].reply_uuids.push(r),t[r].parent_uuid=e},[r.Xb](t,n){var e=n.parent_uuid,r=n.child_uuid;t[e].reply_uuids=t[e].reply_uuids.filter((function(t){return t!==r})),t[r].parent_uuid=""},[r.kb](t,n){t[n]&&(t[n].total_replies+=1,t[n].total_direct_replies+=1)},[r.T](t,n){t[n]&&(t[n].total_replies-=1,t[n].total_direct_replies-=1)}},d=(e(189),e(52),e(0)),f=e(22),_=e(76),l=function(t,n){return Boolean(t)&&Object(f.I)(n)},b={[d.R]:t=>function(n){return t[n]},[d.Q]:function(t,n){return function(e){return Object.values(t).filter((function(t){return t.thread_uuid===e})).filter((function(t){var e=t.content_uuid;return n[d.Qb](e)}))}},[d.P]:function(t,n){return function(e){return Object.values(t).filter((function(t){return t.parent_uuid===e})).filter((function(t){var e=t.content_uuid;return n[d.Qb](e)}))}},[d.eb]:(t,n)=>function(e){return t[e].reply_uuids.filter(n[d.Qb]).map(n[d.R]).filter((function(t){return!t.state_reasons.includes(i.d.ACTOR_GHOST_BANNED)})).sort((function(t,n){return t.time-n.time}))},[d.v]:(t,n)=>function(e){var r=t[e],i=n[d.jd](r),u=n[d.jb];return Boolean(r)&&function(t){return!t.social_id&&Boolean(t.content)}(r)&&i&&i.uuid===u},[d.u]:(t,n)=>function(e){var r=t[e];return l(r,n[d.hb])&&r.simplified_state!==i.c.VISIBLE},[d.r]:(t,n)=>function(e){var r=t[e];return l(r,n[d.hb])&&!r.state_reasons.includes(i.d.CONTENT_DISABLED)},[d.w]:(t,n)=>function(e){var r=t[e];return l(r,n[d.hb])&&!r.is_pinned&&r.parent_uuid===r.content_container_uuid},[d.z]:(t,n)=>function(e){var r=t[e];return l(r,n[d.hb])&&r.is_pinned&&r.parent_uuid===r.content_container_uuid},[d.q]:(t,n)=>function(e){var r=t[e];return l(r,n[d.hb])&&r.total_flags>0},[d.s]:(t,n)=>function(e){var r=t[e];return l(r,n[d.hb])&&!r.is_picked},[d.t]:(t,n)=>function(e){var r=t[e];return l(r,n[d.hb])&&r.is_picked},[d.y]:function(t,n){return function(e){var r=t[e];return l(r,n[d.hb])&&!r.state_reasons.includes(i.d.CONTENT_MARKED_AS_SPAM)}},[d.A]:function(t,n){return function(e){var r=t[e];return l(r,n[d.hb])&&r.state_reasons.includes(i.d.CONTENT_MARKED_AS_SPAM)}},[d.x]:function(t,n){return function(e){var r=t[e];return n[d.v](e)&&!r.state_reasons.includes(i.d.CONTENT_DELETED)}},[d.bb]:t=>function(n){return t[n].actions.some((function(t){return"like"===t}))},[d.Z]:t=>function(n){return t[n].actions.some((function(t){return"dislike"===t}))},[d.ab]:t=>function(n){return t[n].actions.some((function(t){return"flag"===t}))},[d.Y]:t=>function(n,e){return t[n].actor_uuid===e},[d.X]:(t,n)=>function(t){return n[d.Y](t,n[d.jb])},[d.cb]:function(t){return function(n){return t[n].is_pinned}},[d.db]:function(t){return function(n){return!t[n].is_pinned}},[d.Qb]:function(t,n){return function(e){var r=t[e];if(!r)return!1;if(Object(f.I)(n[d.hb]))return!0;var u=n[d.Pb];if(Object(_.c)(u)&&u(r.content_container_uuid))return n[d.Ub](r);if(!r.state_reasons.includes(i.d.CONTENT_DELETED)&&n[d.X](r.content_uuid))return!0;var c=n[d.md](r.actor_uuid),a=r.simplified_state===i.c.DISABLED,o=0===r.total_replies||0===n[d.P](r.content_uuid).length;return!(c&&o||a)&&!r.state_reasons.includes(i.d.CONTENT_AWAITING_MODERATION)}},[d.Ob]:function(t){return function(n){return t[n].isNew}},[d.W]:t=>function(n,e){return t[n].reply_uuids.includes(e)},[d.V]:t=>function(n){return t[n].content_container_uuid},[d.bd]:function(t){return function(n){return Object.values(t).filter((function(t){var e=t.content_container_uuid,r=t.content_uuid;return e===n&&b[d.Qb](r)})).length}}},p=(e(7),e(9),e(11),e(17),e(57),e(4)),E=e(21),O=e(241);function D(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?D(Object(e),!0).forEach((function(n){h(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):D(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function h(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var m=v(v({},{[E.i](t,n){var e=t.state,r=t.getters,i=t.dispatch;return e[n.content_uuid]?r[d.Rb](n.actor_uuid)?i(p.gc,n):i(p.jc,n):Promise.resolve()},[p.gc](t,n){var e=t.commit,i=n.action,u=n.content_uuid,c=n.payload;switch(i){case O.a.FLAGGED:case O.a.FLAGS_CLEARED:case O.a.PICKED:case O.a.UNPICKED:case O.a.PINNED:case O.a.UNPINNED:case O.a.SPAM:case O.a.DISABLED:case O.a.VISIBLE:e(r.Ic,{key:u,item:c})}},[p.jc](t,n){var e=t.commit,i=n.action,u=n.content_uuid,c=n.payload;switch(i){case O.a.LIKED:e(r.jb,u);break;case O.a.UNLIKED:e(r.X,u);break;case O.a.DISLIKED:e(r.hb,u);break;case O.a.UNDISLIKED:e(r.W,u);break;case O.a.FLAGGED:case O.a.PICKED:case O.a.UNPICKED:case O.a.PINNED:case O.a.UNPINNED:case O.a.DELETED:case O.a.SPAM:case O.a.DISABLED:case O.a.VISIBLE:e(r.Ic,{key:u,item:c});break;case O.a.FLAGS_CLEARED:e(r.Ic,{key:u,item:c}),e(r.H,u)}}}),{},{[p.Hc](t,n){var e=t.commit,i=Object(a.d)(n),u=i.post;return i.media.forEach((function(t){e(r.Ac,t)})),e(r.lc,{key:u.content_uuid,item:u}),Promise.resolve(u)},[p.Gc](t,n){for(var e=t.dispatch,r=n.content_container_uuid,i=n.contents,u=n.shouldSetUsersSynchronously,c=void 0!==u&&u,o=[],s=function(t){var n=i[t];n.media=n.media||[],n.content_container_uuid=n.content_container_uuid||r,o.push(e(p.Hc,n).then((function(){return n.content_uuid}))),n.origin===a.b.USER&&(c?o.push(e(p.zb,n.content_uuid)):e(p.zb,n.content_uuid))},d=0;d<i.length;d++)s(d);return Promise.all(o)},[p.ic](t){(0,t.commit)(r.bc)}}),N=e(510),I=function(){return{mutations:s,getters:b,actions:m,state:a.e,modules:{replyThreads:Object(N.replyThreads)()}}}},856:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return i}));var r=function(t){return function(n,e){n[e][t]++}},i=function(t){return function(n,e){n[e][t]--}}}}]);
//# sourceMappingURL=content-module-js.71a35fadca1366123f1e.js.map