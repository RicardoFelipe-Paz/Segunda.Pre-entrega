(window._vfP=window._vfP||[]).push([[36],{1318:function(t,e,i){"use strict";i.r(e);i(92);var n=i(37),r=i(268),s=i(771),a=i(413),l=i(36),c=i(952),o=i(953),d=i(1002),u=i(849),g=i(297),_={props:{trendingArticle:l.a.shape(c.a).isRequired.loose,isContentRecirculationWidget:l.a.bool.def(!1),hasImage:l.a.bool,isReversed:l.a.bool.def(!1),trackingMedium:l.a.oneOf(Object.values(r)).def(r.STANDALONE_TOP_PAGES_MEDIUM)},data:()=>({isImageInvalid:!1}),computed:{trendingArticleClasses(){return["vf-trending-article","vf-content-recirculation-href","vf-no-outline",{"vf-trending-article--with-ad":this.isContentRecirculationWidget}]},trendingArticleTag(){return null!==this.url?"a":"div"},trendingArticleAttrs(){var t={};return"a"===this.trendingArticleTag&&(t.href=this.url),t},trendingArticleA11yLabel(){return this.$i18n("trending_articles.trending_article.comments.a11y_label",{title:this.trendingArticle.origin_title,count:this.trendingArticle.total_visible_contents})},isImageEmpty(){return!this.trendingArticle.origin_image_url||this.isImageInvalid},count(){return this.trendingArticle.total_visible_contents},countText(){return this.$i18n("trending_articles.count.comments",{count:this.count})},url(){var t='The URL "'.concat(this.trendingArticle.origin_url,'" is invalid, please update the og:url on the article page to be a valid URL');return Object(o.a)(this.trendingArticle.origin_url,this.trackingMedium,t)},title(){return Object(g.b)(this.trendingArticle.origin_title,55)}},methods:{handleImageError(){this.isImageInvalid=!0}},components:{vfTrendingIcon:d.a,commentIcon:u.a}},v=i(56),p=Object(v.a)(_,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.trendingArticleTag,t._b({tag:"component",class:t.trendingArticleClasses},"component",t.trendingArticleAttrs,!1),[i("p",{staticClass:"vf-trending-article__a11y-label vf-offscreen-text"},[t._v("\n        "+t._s(t.trendingArticleA11yLabel)+"\n    ")]),t._v(" "),i("div",{staticClass:"vf-trending-article__layout"},[t.isImageEmpty?t._e():i("div",{staticClass:"vf-item-layout__image-wrapper"},[i("img",{attrs:{src:t.trendingArticle.origin_image_url,alt:t.trendingArticle.origin_image_alt||t.$i18n("trending_articles.visual.image_alt_text")},on:{error:t.handleImageError}})]),t._v(" "),t.isImageEmpty?i("div",{staticClass:"vf-trending-article__trending-icon-wrapper vf-item-layout__image-wrapper"},[i("vf-trending-icon",{staticClass:"vf-trending-article__trending-icon"})],1):t._e(),t._v(" "),i("div",{staticClass:"vf-item-layout__content vf-content vf-primary-text"},[i("p",[t._v("\n                "+t._s(t.title)+"\n            ")]),t._v(" "),i("p",{staticClass:"vf-content__icon"},[i("comment-icon",{staticClass:"vf-trending-article__comment-icon",attrs:{count:t.count}}),t._v("\n                "+t._s(t.countText)+"\n            ")],1)])])])}),[],!1,null,"4590ffd3",null).exports,h=i(1288),f=i(665),m=i(997),w=i(998),A=i(1293),b={components:{roundIconButton:f.a},props:{swiperBulletClass:l.a.string},created(){this.largeBullet=A.a}},C=Object(v.a)(b,(function(){var t=this.$createElement;return(this._self._c||t)("round-icon-button",{class:this.swiperBulletClass,attrs:{icon:this.largeBullet}})}),[],!1,null,null,null).exports,I=i(6),S=(i(1289),i(109)),T=i(432),O=n.default.extend(C),N={props:{containerId:l.a.string,trendingArticles:l.a.array.isRequired,trackingMedium:l.a.oneOf(Object.values(r)).def(r.STANDALONE_TOP_PAGES_MEDIUM),source:l.a.string,dataVfId:l.a.string},data(){return{trendingArticlesBaseWithActivity:Object(a.a)(p,I.d.CONTENT_RECIRCULATION,this.dataVfId,50,50,this.containerId),isMultiPageSwiper:this.trendingArticles&&this.trendingArticles.length>1}},computed:{paginationEl(){return"swiper-pagination-".concat(this._uid)},paginationNext(){return"swiper-button-next_vf".concat(this._uid)},paginationPrev(){return"swiper-button-prev_vf".concat(this._uid)},swiperOptions(){return{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:5,slidesOffsetAfter:5,watchOverflow:!0,observer:!0,observeParents:!0,pagination:{el:".".concat(this.paginationEl),clickable:!0,renderBullet:this.renderBullet,bulletClass:this.swiperBulletClass(),bulletActiveClass:"vf-icon-button--round-icon--accent--active"},a11y:{prevSlideMessage:this.$i18n("trending_articles.swiper.prev_slide"),nextSlideMessage:this.$i18n("trending_articles.swiper.next_slide"),firstSlideMessage:this.$i18n("trending_articles.swiper.first_slide"),lastSlideMessage:this.$i18n("trending_articles.swiper.last_slide"),paginationBulletMessage:"".concat(this.$i18n("trending_articles.swiper.pagination_bullet"))},navigation:{nextEl:".".concat(this.paginationNext),prevEl:".".concat(this.paginationPrev)}}},validatedTrackingMedium(){var t=this.trackingMedium===r.STANDALONE_CONTENT_RECIRCULATION_WITH_ADS,e=this.source===s.b;return t&&e?r.STANDALONE_CONTENT_RECIRCULATION_WITH_ADS_RS:this.trackingMedium},swiper(){return this.$refs.articleSwiper.$swiper}},created(){this.chevronLeft=m.a,this.chevronRight=w.a,this.widgetTag=I.d.CONTENT_RECIRCULATION},mounted(){var t=this;Object(S.b)(this.$el,(function(t){return t.isIntersecting})).then((function(){return Object(T.a)(1e3)})).then((function(){t.swiper.update(),t.updateShowNavigation()})),this.updateShowNavigation()},methods:{updateShowNavigation(){var t=this;this.$nextTick((function(){t.isMultiPageSwiper=t.isMultiPageSwiper&&t.swiper.allowSlidePrev||t.swiper.allowSlideNext}))},renderBullet(t,e){return this.showSwiperNavigations()?new O({propsData:{swiperBulletClass:this.swiperBulletClass()}}).$mount().$el.outerHTML:""},showSwiperNavigations(){return this.isMultiPageSwiper},swiperBulletClass(){return"swiper-bullet-class-".concat(this._uid)}},components:{contentRecirculationArticle:p,Swiper:h.Swiper,SwiperSlide:h.SwiperSlide,roundIconButton:f.a}},E=Object(v.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vf-trending-section"},[i("div",{staticClass:"vf-trending-articles-list"},[i("swiper",{ref:"articleSwiper",attrs:{options:t.swiperOptions}},t._l(t.trendingArticles,(function(e){return i("swiper-slide",{key:e.content_container_uuid,staticClass:"vf-trending-article-list__item"},[i("div",{staticClass:"vf-trending-article-list__item-section"},[i(t.trendingArticlesBaseWithActivity,{tag:"component",attrs:{"trending-article":e,"tracking-medium":t.validatedTrackingMedium,"data-vf-id":t.dataVfId}})],1)])})),1)],1),t._v(" "),t.showSwiperNavigations()?i("div",{staticClass:"vf-trending-articles-controls"},[i("div",{staticClass:"vf-nav-backing",class:t.paginationPrev},[i("round-icon-button",{attrs:{icon:t.chevronLeft}})],1),t._v(" "),i("div",{staticClass:"vf-nav-backing",class:t.paginationNext},[i("round-icon-button",{attrs:{icon:t.chevronRight}})],1)]):t._e()])}),[],!1,null,"4bf039fc",null);e.default=E.exports}}]);
//# sourceMappingURL=content_recirculation_js.d065a50a1c85f724a0fb.js.map