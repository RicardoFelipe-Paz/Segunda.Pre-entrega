(window._vfP=window._vfP||[]).push([[167],{1098:function(t,e){t.exports='<section class="vf-notification-alert-section" v-if="displayModeration" role="alert">\n    <ol class="vf-vert-list">\n        <vf-moderation-alert :alert="alert"></vf-moderation-alert>\n    </ol>\n</section>\n'},1099:function(t,e){t.exports='<li class="vf-non-link vf-notification-alert vf-secondary-border-colour" :class="classes">\n    <span aria-hidden="true" class="vf-notification-alert__status-icon" v-html="statusIcon"></span>\n    <span class="vf-alert-message" v-if="alert.i18nKey">{{ $i18n(alert.i18nKey) }}</span>\n    <vf-close-button v-if="showCloseButton" class="vf-alert-close-btn" size="vf-icon-small" @click.native.prevent.stop="onCloseAlertClick">\n        <span class="vf-offscreen-text">{{ $i18n("navigation.close_alert") }}</span>\n    </vf-close-button>\n</li>\n'},1100:function(t,e){t.exports='<svg class="vf-header-fill-colour" width="20" height="20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9.808 19.4c5.357 0 9.7-4.343 9.7-9.7 0-5.357-4.343-9.7-9.7-9.7-5.357 0-9.7 4.343-9.7 9.7 0 5.357 4.343 9.7 9.7 9.7zm5.127-13.335a.326.326 0 0 0-.461 0l-6.298 6.298L5.142 9.33a.326.326 0 1 0-.461.462l3.264 3.265a.326.326 0 0 0 .462 0l.004-.007.005-.003 6.52-6.52a.326.326 0 0 0 0-.461z" fill-rule="evenodd"></path>\n</svg>\n'},1101:function(t,e){t.exports='<svg class="vf-header-fill-colour" width="21" height="20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.108 20c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm.762-10l4.465-4.465a.538.538 0 1 0-.761-.762L10.108 9.24 5.643 4.773a.538.538 0 1 0-.762.762L9.347 10l-4.45 4.45a.539.539 0 0 0 .761.761l4.45-4.45 4.466 4.466a.537.537 0 0 0 .76 0c.211-.21.211-.551 0-.762L10.87 10z" fill-rule="evenodd"></path>\n</svg>\n'},1102:function(t,e){t.exports='<svg class="vf-header-fill-colour" width="20" height="20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.77 11.538a.769.769 0 1 1-1.54 0V5.385a.769.769 0 1 1 1.54 0v6.153zm-.224 3.624a.81.81 0 0 1-.546.223c-.2 0-.4-.085-.546-.223a.805.805 0 0 1-.223-.547c0-.2.084-.4.223-.546.292-.284.8-.284 1.084 0 .154.146.231.346.231.546 0 .2-.077.4-.223.547zM10 0C4.486 0 0 4.486 0 10s4.486 10 10 10 10-4.486 10-10S15.514 0 10 0z" fill-rule="evenodd"></path>\n</svg>\n'},1103:function(t,e){t.exports='<g fill-rule="evenodd">\n    <path d="M97 22H83V8 7h-1L50 22 19 7a1 1 0 0 0-2 1v14H4l-1 1v68l1 1h93l1-1V23l-1-1zm-77 1V10l30 14v65L20 75V23zm31 1l30-14v65L51 89V24zM6 24h12v15h-5a1 1 0 0 0 0 2h5v15h-5l-1 1 1 1h5v15h-5a1 1 0 0 0 0 2h5v1h1l28 14H6V24zm89 66H53l29-14v-1h6a1 1 0 0 0 0-2h-6V58h6a1 1 0 0 0 0-2h-6V41h6a1 1 0 0 0 0-2h-6V24h13v66z"></path>\n    <path d="M24 29l18 9h1v-1-1l-18-8h-1v1zm19 24l-18-8h-1v1l18 8h1v-1zm0 17l-18-9-1 1v1l18 8h1v-1zm14-32l18-9v-1h-1l-18 8a1 1 0 0 0 1 2zm17 7l-18 8a1 1 0 0 0 1 1l18-8v-1h-1zm0 16l-18 9v1h1l18-8v-1l-1-1z"></path>\n</g>\n'},1105:function(t,e){t.exports='<path fill-rule="evenodd" d="M20 6l-1 1v24H3l-1 1v53c0 5 4 10 10 10h76c6 0 10-5 10-10V7l-1-1H20zm2 2h74v77c0 4-4 7-8 7H18c2-2 4-4 4-7V8zm11 10l-1 2v17l1 1h24l2-1V20l-2-2H33zm1 3h22v15H34V21zm36 0a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2H70zM4 33h15v52c0 4-3 7-7 7s-8-3-8-7V33zm66 0a1 1 0 0 0 0 3h14a1 1 0 0 0 0-3H70zM33 48a1 1 0 0 0 0 2h51a1 1 0 0 0 0-2H33zm0 13a1 1 0 0 0 0 3h51a1 1 0 0 0 0-3H33zm0 14a1 1 0 0 0 0 2h51a1 1 0 0 0 0-2H33z"></path>\n'},1106:function(t,e){t.exports='<div class="vf-user-profile">\n    <vf-profile-header :user="user"></vf-profile-header>\n    <vf-profile-user-details class="vf-user-profile__details" :user="user" v-if="isVisibleToCurrentUser"></vf-profile-user-details>\n    <vf-profile-overview v-if="isProfileActivityReady" :user="user"></vf-profile-overview>\n    <vf-profile-activity v-if="isProfileActivityReady" :user="user" :is-current-user="isCurrentUser"></vf-profile-activity>\n</div>\n'},1107:function(t,e){t.exports='<li class="vf-flex vf-centered">\n    <div class="vf-flex vf-centered labelled-icon">\n        <component :is="getIconName" class="vf-overview-icon"></component>\n        <strong class="vf-label vf-label-upper vf-primary-hoverable">{{ count.text }}</strong>\n    </div>\n</li>\n'},1108:function(t,e){t.exports='<p :class="classes">\n    <vf-exclamation-mark-icon class="vf-icon-medium"></vf-exclamation-mark-icon>\n    <span>{{ content }}</span>\n</p>\n'},1109:function(t,e){t.exports='<ul :class="classes" v-if="media.length > 0">\n    <li v-for="(mediaItem, idx) in visibleMedia" v-if="mediaItem" class="vf-media-gallery-item" :key="mediaItem.id">\n        <vf-media-thumbnail class="" :media="mediaItem"></vf-media-thumbnail>\n        <span v-if="count(idx) > 0" class="vf-js-anchor vf-gallery-link vf-flex vf-centered vf-li">+{{ count(idx) }}</span>\n    </li>\n</ul>\n'},1110:function(t,e){t.exports='<vf-image v-bind="vfImageData">\n    <vf-processing-icon v-if="isLoading" circle="outline"></vf-processing-icon>\n    <span v-if="isLoading" class="vf-label vf-label-heavy vf-label-upper vf-visibly-hidden-on-mobile">{{ $i18n(\'media.processing\') }}</span>\n</vf-image>\n'},1111:function(t,e){t.exports='<path d="M89 50c0-15-9-29-23-36a3 3 0 1 0-3 6c12 6 19 17 19 30 0 17-12 31-28 34a3 3 0 1 0-5-5l-6 7a3 3 0 0 0 1 4l6 6 2 1 2-1v-5l-1-1c20-2 36-19 36-40zM43 22a3 3 0 0 0 5-1l5-6v-5l-7-5c-1-1-3-1-4 1v4a40 40 0 0 0-12 76l1 1a3 3 0 0 0 2-6 34 34 0 0 1 11-64h-1v5z"></path>\n'},1112:function(t,e){t.exports='<vf-container class="user-details vf-container--narrow" :title="title" :expandable="true" :expanded="expanded" :button-a11y-description="a11yDescription" @click="onExpandCollapse">\n    <vf-table :columns="columns" :rows="rows" class="user-details__table"></vf-table>\n    <span class="user-details__footer">{{footerText}}</span>\n</vf-container>\n'},1115:function(t,e){t.exports='<div class="vf-settings vf-vert-spaced">\n    <h1 v-if="canUpdateAvatar || canUpdateName" class="vf-client-settings-form-profile-header vf-label vf-label-upper vf-setting-module__title">\n        {{ $i18n(\'settings.update.profile\') }}\n    </h1>\n    <vf-avatar-upload v-if="canUpdateAvatar && isLoggedIn" :user="user" @clear-messages="clearMessages" @avatar-message="addStatusMessage" @avatar-api-error="addApiError"></vf-avatar-upload>\n    <section role="group" class="vf-client-settings-form-section">\n        <form class="vf-vert-spaced vf-client-settings-form" @keydown.enter.stop.prevent="tryUpdateProfile">\n            <vf-input-list v-if="isLoggedIn" class="vf-vert-spaced vf-client-settings-form-profile" :schema="baseSchema" :values="values" @update="updateValue">\n\n            </vf-input-list>\n            <vf-update-password v-if="canUpdatePassword" @password-input="update_password = $event" @password-verify-input="update_password_verify = $event">\n            </vf-update-password>\n            <vf-verify-password v-if="showCurrentPassword" @password-input="current_password = $event">\n            </vf-verify-password>\n        </form>\n    </section>\n    <vf-toggle-settings @toggle="onToggle"></vf-toggle-settings>\n    <vf-settings-controls @try-update-profile="tryUpdateProfile" @logout-clicked="onLogout" :messages="messages" :can-update-profile="canUpdateProfile" :status="status">\n    </vf-settings-controls>\n</div>\n'},1119:function(t,e){t.exports='<section class="vf-vert-spaced vf-client-settings-notification-section">\n    <h1 v-if="showHeader" class="vf-label vf-label-upper vf-client-settings-notification-header vf-setting-module__title">{{ text.header }}</h1>\n    <ul class="vf-flex-vert vf-vert-spaced vf-notification-list vf-client-settings-notification-list">\n        <vf-toggle-input v-if="canUpdateBrowserNotifications" :setting="browserNotificationsSetting" @toggle="toggleBrowserNotifications" class="vf-client-settings-browser-notifications">\n            <div v-html="browserIcon"></div>\n            <span>{{ $i18n(\'settings.controls.browser_notifications\') }}</span>\n        </vf-toggle-input>\n        <transition name="fade">\n        <li v-if="browserNotificationMessage.messageKey">\n            <vf-status-message :type="browserNotificationMessage.type">\n                <template v-slot:vf-status-message-content>\n                    <div>\n                        {{ $i18n(browserNotificationMessage.messageKey) }}\n                        <span v-if="browserNotificationMessage.hasLink">\n                            --\n                            <a class="vf-status-message-link" @click.stop.prevent="onErrorLinkClick">\n                                {{ $i18n(browserNotificationMessage.messageKey + "_link") }}\n                            </a>\n                        </span>\n                    </div>\n                </template>\n            </vf-status-message>\n        </li>\n        </transition>\n\n        <vf-toggle-input v-if="canUpdateEmailNotifications" :setting="updateEmailNotificationsSetting" @toggle="toggleEmailNotifications" class="vf-client-settings-email-notifications">\n            <div v-html="emailIcon"></div>\n            <span>{{ $i18n(\'settings.controls.email_notifications\') }}</span>\n        </vf-toggle-input>\n    </ul>\n</section>\n'},1120:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 100 100">\n    <title>Push Notification Icon</title>\n    <desc>Push Notification Icon</desc>\n    <path fill="#000000" fill-rule="evenodd" d="M83.9992,32.0016001 C75.7247587,32.0016001 68.9983999,25.2752413 68.9983999,17.0008 C68.9983999,8.72635874 75.7247587,2 83.9992,2 C92.2736413,2 99,8.72635874 99,17.0008 C99,25.2752413 92.2736413,32.0016001 83.9992,32.0016001 Z M83.9992,9.50040002 C79.8649795,9.50040002 76.4987999,12.8665796 76.4987999,17.0008 C76.4987999,21.1350205 79.8649795,24.5012001 83.9992,24.5012001 C88.1334204,24.5012001 91.4996,21.1350205 91.4996,17.0008 C91.4996,12.8665796 88.1334204,9.50040002 83.9992,9.50040002 Z M75.9083684,92.0048003 L24.5912315,92.0048003 C15.993973,92.0048003 9,85.0108272 9,76.4135687 L9,25.0964318 C9,16.4991733 15.993973,9.50520028 24.5912315,9.50520028 L61.5028001,9.50520028 C63.5741106,9.50520028 65.2530002,11.1828898 65.2530002,13.2554003 C65.2530002,15.3267108 63.5741106,17.0056003 61.5028001,17.0056003 L24.5912315,17.0056003 C20.1281935,17.0056003 16.5004,20.6333938 16.5004,25.0964318 L16.5004,76.4135687 C16.5004,80.8766068 20.1281935,84.5044002 24.5912315,84.5044002 L75.9083684,84.5044002 C80.3714065,84.5044002 83.9992,80.8766068 83.9992,76.4135687 L83.9992,39.5020001 C83.9992,37.4294896 85.6768894,35.7518001 87.7494,35.7518001 C89.8219105,35.7518001 91.4996,37.4294896 91.4996,39.5020001 L91.4996,76.4135687 C91.4996,85.0108272 84.505627,92.0048003 75.9083684,92.0048003 Z"></path>\n</svg>\n'},1121:function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="18px" height="13px" viewBox="0 0 18 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>Email Notification Icon</title>\n    <desc>Icon of an envelope</desc>\n    <g id="Final" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Settings" transform="translate(-1490.000000, -797.000000)" fill="#FFAD7C">\n            <path d="M1490.02969,798.656481 C1490.01017,798.768963 1490,798.884668 1490,799.00276 L1490,807.99724 C1490,809.106457 1490.89323,810 1491.99509,810 L1506.00491,810 C1507.10738,810 1508,809.103334 1508,807.99724 L1508,799.00276 C1508,798.77408 1507.96203,798.554568 1507.8921,798.350161 L1499.60357,804.789681 L1499.00683,805.253298 L1498.39789,804.805823 L1490.02969,798.656481 Z M1491.31521,797.119207 C1491.52737,797.042063 1491.75631,797 1491.99509,797 L1506.00491,797 C1506.11737,797 1506.22766,797.009308 1506.33504,797.027203 L1498.37653,803.210319 L1499.58221,803.194177 L1491.31521,797.119207 Z" id="Email_Icon"></path>\n        </g>\n    </g>\n</svg>\n'},1122:function(t,e){t.exports='<div class="vf-settings vf-vert-spaced">\n    <h1 v-if="canUpdateAvatar || canUpdateName" class="vf-client-settings-form-profile-header vf-label vf-label-upper vf-setting-module__title">\n        {{ $i18n(\'settings.update.profile\') }}\n    </h1>\n    <vf-avatar-upload v-if="canUpdateAvatar && isLoggedIn" :user="user" @clear-messages="clearMessages" @avatar-message="addStatusMessage" @avatar-api-error="addApiError"></vf-avatar-upload>\n    <section role="group" class="vf-client-settings-form-section">\n        <form class="vf-vert-spaced vf-client-settings-form" @keydown.enter.stop.prevent="tryUpdateProfile">\n            <vf-input-list v-if="isLoggedIn" class="vf-vert-spaced vf-client-settings-form-profile" :schema="schema" :values="values" @update="updateValue">\n            </vf-input-list>\n            <vf-update-password v-if="canChangePassword" @password-input="update_password = $event" @password-verify-input="update_password_verify = $event">\n            </vf-update-password>\n            <vf-verify-password v-if="showCurrentPassword" @password-input="current_password = $event">\n            </vf-verify-password>\n        </form>\n    </section>\n    <vf-toggle-settings @toggle="onToggle"></vf-toggle-settings>\n    <vf-settings-controls @try-update-profile="tryUpdateProfile" @logout-clicked="onLogout" :messages="messages" :can-update-profile="canUpdateProfile" :status="status">\n    </vf-settings-controls>\n</div>\n'},1123:function(t,e){t.exports='<section class="vf-account-thirdparty vf-relative" v-if="loginList.length > 0">\x3c!-- viafoura class used for legacy social icons --\x3e\n    <h4 class="vf-offscreen-text">{{ ariaHeaderText }}</h4>\n    <ul class="vf-account-thirdparty-controls vf-social-logins vf-flex-container">\x3c!-- vf-social-logins class used for legacy social icons --\x3e\n        <vf-thirdparty-service class="vf-thirdparty-control" v-for="login in loginList" :key="login.provider" :login="login">\n        </vf-thirdparty-service>\n    </ul>\n    <input id="vf-show-more-social-logins-id" type="checkbox">\n    <ul class="vf-account-thirdparty-controls vf-flex-container vf-social-logins vf-more-logins"> \x3c!-- vf-social-logins class used for legacy social icons --\x3e\n        <vf-thirdparty-service v-for="login in showMoreList" :key="login.provider" :login="login">\n        </vf-thirdparty-service>\n    </ul>\n    <label class="vf-show-more-social-logins" @click="toggleText" for="vf-show-more-social-logins-id" v-if="showMoreList.length > 0">{{showMore}}</label>\n</section>\n'},1136:function(t,e){t.exports='<div class="vf-account-nav-backdrop vf-tray-header-backdrop">\n    \x3c!-- Do not make this component use a self-closing tag --\x3e\n    <sign-up-illustration class="vf-account-nav-illustration"></sign-up-illustration>\n</div>\n'},1137:function(t,e){t.exports='<path fill-rule="evenodd" d="M93.4 39.8c-1.7-2-4.2-3-7.4-3a1 1 0 0 0-.5 0v.1l-.2.1s-1.5 1.4-3.9 1.4a5.9 5.9 0 0 1-3.9-1.4h-.1a.4.4 0 0 0-.1-.1 1 1 0 0 0-.5-.2c-3.2 0-5.7 1-7.4 3.1-3.7 4.3-2.8 11.3-2.7 11.6a1 1 0 0 0 1 .9H95a1 1 0 0 0 1-.9c0-.3 1-7.3-2.7-11.6zm-12 .6c1 0 1.7-.2 2.4-.4l-2.4 5-2.4-5a8.1 8.1 0 0 0 2.4.4zm12.9 10H68.5c0-2 0-6.5 2.3-9.3 1.3-1.5 3.1-2.3 5.4-2.4l4.3 9a1 1 0 0 0 1.8 0l4.3-9c2.3.1 4.1 1 5.4 2.4 2.4 2.8 2.4 7.3 2.3 9.2zM81.4 35.4a8.2 8.2 0 1 0 0-16.3 8.2 8.2 0 0 0 0 16.3zm0-14.3a6.2 6.2 0 0 1 6.2 6.2 6.2 6.2 0 0 1-6.2 6.2 6.2 6.2 0 0 1-6.2-6.2 6.2 6.2 0 0 1 6.2-6.2zm-62 15.5a1 1 0 0 0-.4.2h-.1l-.1.1c-.1 0-1.5 1.4-4 1.4A5.9 5.9 0 0 1 11 37h-.2a.4.4 0 0 0 0-.1 1 1 0 0 0-.5-.2c-3.2 0-5.7 1-7.5 3.1C-.9 44.1.1 51.1.1 51.4a1 1 0 0 0 1 .9h27.5a1 1 0 0 0 1-.9c0-.3 1-7.3-2.7-11.6-1.8-2-4.3-3-7.5-3zM15 40.4c.9 0 1.7-.2 2.3-.4L15 45l-2.4-5a8.1 8.1 0 0 0 2.4.4zm12.8 10H2c-.1-2-.1-6.5 2.3-9.3 1.3-1.5 3-2.3 5.4-2.4l4.3 9c.3.6 1.4.6 1.7 0l4.3-9c2.3.1 4.1 1 5.4 2.4 2.4 2.8 2.4 7.3 2.3 9.2zM14.9 35.4a8.2 8.2 0 1 0 0-16.3 8.2 8.2 0 0 0 0 16.3zm0-14.3a6.2 6.2 0 0 1 6.1 6.2 6.2 6.2 0 0 1-6.1 6.2 6.2 6.2 0 0 1-6.2-6.2 6.2 6.2 0 0 1 6.2-6.2zm55 5.2a1 1 0 0 0 .9-.5 1 1 0 0 0 0-1l-2.7-5.2a14.7 14.7 0 0 0 .7-7.4 14.7 14.7 0 0 0-6-9.5 14.6 14.6 0 0 0-11-2.6 14.8 14.8 0 0 0-9 23.8c-1 .2-1.9.6-2.8 1a14.7 14.7 0 0 0-6 5.4l-5.8 1.2a1 1 0 0 0-.5 1.7 128 128 0 0 1 4.1 4.2 14.7 14.7 0 0 0 1.5 7.2c2.5 5.1 7.5 8.3 13.2 8.3a14.6 14.6 0 0 0 6.5-1.5A14.8 14.8 0 0 0 58 29c2.2-.6 4.2-1.6 6-3.2l5.9.6zM58 32.6A12.8 12.8 0 0 1 35 44a12.8 12.8 0 0 1-1.2-6.6c0-.5 0-.6-3.5-4.1l4.4-1c.3 0 .6-.1.8-.4a12.7 12.7 0 0 1 5.4-5 12.7 12.7 0 0 1 5.6-1.4c5 0 9.3 2.8 11.5 7.2zm5-8.5a12.7 12.7 0 0 1-6.6 3.2 14.6 14.6 0 0 0-9.9-3.8H45A12.8 12.8 0 0 1 61.7 4.4a12.7 12.7 0 0 1 5.1 8.3 12.8 12.8 0 0 1-.7 6.7c-.1.4-.2.6 2.2 5l-4.5-.5a1 1 0 0 0-.9.3zm-8.8 10h-3v-1.5a3.9 3.9 0 0 0-1.5-2.8 2.4 2.4 0 0 0-2-.3c-1.5.4-1.4 2.2-1.4 3.3v.4c0 1-1 1.7-1.7 2.1h-5.8a1 1 0 0 0-.8.4c-.2.3-.5.7.5 8.1a1 1 0 0 0 1 .8h4.9a1 1 0 0 0 .9-.5l.3.1.4.1H52c1.3 0 2.1-.3 2.5-1 .2-.6.1-1 0-1.5.4-.4.6-.9.6-1.2v-.8a2.1 2.1 0 0 0 .4-.9 2.2 2.2 0 0 0 0-1 2 2 0 0 0 1-1.6c0-1.1-.8-2.2-2.4-2.2zm-11 8.6h-2.9c-.3-2.1-.5-4.3-.5-5.5H43v5.5zm11-6.2a1 1 0 0 0-.7.5 1 1 0 0 0 0 1c.2 0 .2.3.2.4l-.3.2a1 1 0 0 0-.5.7 1 1 0 0 0 .3.9.4.4 0 0 1 0 .2l-.3.3a1 1 0 0 0-.5.7c0 .2 0 .5.2.7l.1.2a3 3 0 0 1-.6 0h-6l-.7-.3a1 1 0 0 0-.3 0v-4.7c2-1 3.2-2.5 3.2-4.1v-.5-1.4l.3.1c.3.3.6.8.7 1.4 0 .9-.4 1.7-.4 1.8a1 1 0 0 0 0 1 1 1 0 0 0 .8.4h4.5c.4 0 .4.1.4.2l-.4.3zM49 13a1.5 1.5 0 0 0 0 3 1.5 1.5 0 0 0 0-3zm5.4 0a1.5 1.5 0 0 0 0 3 1.5 1.5 0 0 0 0-3zm5.2 0a1.5 1.5 0 0 0 0 3 1.5 1.5 0 0 0 0-3z"></path>\n'},1138:function(t,e){t.exports='<svg :class="getClasses" :viewBox="viewBox" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">\n    <defs v-html="defs"></defs>\n    <circle cx="50%" cy="50%" r="47%" class="vf-icon-inner-circle"></circle>\n    <g v-html="getGraphics" :transform="getTransform"></g>\n</svg>\n'},1139:function(t,e){t.exports='<vf-form v-if="settings.authprovider_viafoura_enabled" id="vf-signup-form" :schema="schema" :status="status" :messages="messages" :button-text="labels.signup" @form-submit="signup">\n    <div id="vf-signup-g-recaptcha-submit" class="vf-signup-recaptcha"></div>\n</vf-form>\n'},1308:function(t,e,s){"use strict";s.r(e);s(3),s(16),s(17),s(26),s(15),s(57);var i=s(4),r=s(0),n=s(2),a=s(1),o=s(142),c=s(241),l=s(185),u=s(75),f=s(408),d=s(141),p=s(78),h=(s(92),s(36)),v=s(665),m=s(706),g=s(903),b=s(22),_=s(720),y=s(167);function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function O(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(Object(s),!0).forEach((function(e){C(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function C(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var E={props:{activeTab:h.a.oneOf(Object.values(f.c)).required,showSettings:h.a.bool.required},data:()=>({settingsTabKey:f.c.SETTINGS}),created(){this.closeIcon=m.a},computed:O(O({},Object(d.c)({settings:r.Jc})),{},{hideCommunity(){var t=!this.settings.enable_muting||Object(b.I)(this.$user()),e=this.settings.disable_email_notifications;return t&&e},tabs(){var t=[{name:f.c.DEFAULT,i18nKey:"navigation.feed",ariaLabel:this.$i18n("aria.navigation.feed"),classes:f.c.DEFAULT},{name:f.c.PROFILE,i18nKey:"navigation.profile",ariaLabel:this.$i18n("aria.navigation.profile"),classes:f.c.PROFILE},{name:f.c.COMMUNITY,i18nKey:"navigation.community",ariaLabel:this.$i18n("aria.navigation.community"),classes:f.c.COMMUNITY},{name:f.c.SETTINGS,ariaLabel:this.$i18n("aria.navigation.settings"),classes:f.c.SETTINGS}];return this.hideCommunity&&(t=t.filter((function(t){return t.name!==f.c.COMMUNITY}))),this.showSettings||(t=t.filter((function(t){return t.name!==f.c.SETTINGS}))),t},ariaLabels(){return{closeTray:this.$i18n("navigation.close"),settings:this.$i18n("navigation.settings")}},showActiveTab(){var t=this;return Boolean(this.tabs.find((function(e){return e.name===t.activeTab})))},settingsClasses(){return{"vf-hidden":!Object(b.H)(this.$user()),"vf-tray-settings-button":!0}},navigationClasses:()=>({"vf-tray-navigation--sticky":0===y.b})}),methods:{closeTray(){this.$publish(a.C.CHANNEL,a.C.EVENTS.CLOSE)},onTabChange(t){var e=this;setTimeout((function(){return e.$publish(a.D.CHANNEL,a.D.EVENTS.CHANGE,t)}),10)}},components:{vfTabbedNavigation:_.a,roundIconButton:v.a,settingsIcon:g.a}},j=s(56),$=Object(j.a)(E,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vf-tabbed-navigation",{staticClass:"vf-tray-navigation vf-horiz-list",class:t.navigationClasses,attrs:{"nav-label":t.$i18n("aria.navigation.aria_label"),"initial-tab":t.activeTab,"show-active":t.showActiveTab,tabs:t.tabs,"full-width-nav":""},on:{"tab-to":t.onTabChange},scopedSlots:t._u([{key:"nav-left",fn:function(){return[s("div",{staticClass:"close-button-wrapper"},[s("round-icon-button",{staticClass:"vf-tray-close",attrs:{"aria-label":t.ariaLabels.closeTray,icon:t.closeIcon},on:{click:t.closeTray}})],1)]},proxy:!0},{key:"button",fn:function(e){return["vf-settings"===e.tab.name?s("span",{staticClass:"vf-nav-label vf-tray-nav-button",class:t.settingsClasses},[s("settings-icon",{staticClass:"vf-settings-icon",attrs:{"aria-hidden":!0}})],1):s("span",{staticClass:"vf-nav-label vf-flex-grow vf-tray-nav-button vf-tray-nav-button--no-padding",attrs:{"aria-hidden":"true"}},[t._v("\n            "+t._s(t.$i18n(e.tab.i18nKey))+"\n        ")])]}},t._l(t.tabs,(function(e){return{key:e.name,fn:function(){return[t._t(e.name)]},proxy:!0}}))],null,!0)})}),[],!1,null,null,null).exports,x=(s(38),s(1098)),S=s.n(x),T=s(37),P=s(1099),N=s.n(P),k=s(1100),U=s.n(k),I=s(1101),A=s.n(I),L=s(1102),D=s.n(L),M=s(919),F=s(124),R=s(640),B=Object(R.b)(M.a),H=function(t){switch(t){case"vf-alert-status-approved":return"vf-success-bg-colour";case"vf-alert-status-rejected":case F.REJECTED:return"vf-warning-bg-colour";case"vf-alert-status-information":case F.PENDING_NEW:case F.PENDING_UPDATE:return"vf-info-bg-colour";default:return""}},V=T.default.extend({components:{vfCloseIcon:M.a},props:["alert"],data:()=>({showCloseButton:!0}),methods:{onCloseAlertClick(){var t=this.$store.getters[r.jb];this.$store.commit(n.Mb,{key:t,items:[{key:this.alert.key}]})}},template:N.a}),z=function(t,e){return V.extend({computed:{classes(){return{[H(this.alert.status||t)]:!0}},statusIcon(){switch(this.alert.status){case F.REJECTED:return A.a;case F.PENDING_NEW:case F.PENDING_UPDATE:return D.a;default:return this.alert.icon||e}}},components:{vfCloseButton:B}})},q={approved:z("vf-alert-status-approved",U.a),rejected:z("vf-alert-status-rejected",A.a),information:z("vf-alert-status-information",D.a)},G=z("","").extend({data:()=>({showCloseButton:!1}),methods:{onCloseAlertClick(){}}}),K=s(694),J=T.default.extend({components:{"vf-moderation-alert":G},inject:["settings"],computed:{user(){return this.$store.getters[r.hb]},type(){return Object(K.b)(this.user,this.settings)?"email":Object(K.d)(this.user,this.settings)?"username":Object(K.a)(this.user,this.settings)?"avatar":""},displayModeration(){return""!==this.type},isEmailVerification(){return"email"===this.type},moderationStatus(){var t=this.type;return t?this.isEmailVerification?this.$user()["".concat(t,"_verification_status")]:this.$user()["".concat(t,"_moderation_status")]:F.NONE},moderationMessage(){return this.type&&!Object(b.J)(this.moderationStatus)?"moderation.".concat(this.type,"_").concat(this.moderationStatus):""},alert(){return{status:this.moderationStatus,i18nKey:this.moderationMessage}},classes(){return{"vf-warning":this.moderationStatus===F.REJECTED}}},template:S.a}),W=s(34),Y=s(64),Z=s(197),X=(s(52),s(44),s(58),s(9),s(7),s(11),s(235)),Q=s(87),tt={text:h.a.string.isRequired,ariaLabel:h.a.string.isRequired},et=s(645),st=s(297),it=(s(243),s(31)),rt=function(t,e){var s=t.getters[r.c](e),i=s.content_container_uuid,n=s.service_type,a=Object(it.a)((function(){return t.getters[r.ed](e).filter((function(e){var s=e.notification_uuid;return t.getters[r.Vb](s)}))})),o=Object(it.a)((function(){return function(t){return Array.from(new Set(t.map((function(t){return t.actor_uuid}))))}(a.value).map(t.getters[r.kd])})),c=Object(it.a)((function(){var t=a.value;return t[t.length-1].content_uuid})),l=Object(it.a)((function(){return t.getters[r.d](e)}));return{content_container_uuid:i,service_type:n,users:o,firstContentUuid:c,status:Object(it.a)((function(){return t.getters[r.e](e)})),timestamp:l}};s(195),s(188);var nt=s(268),at=s(300),ot=s(14),ct=(s(308),{[at.a.LIVECOMMENTS]:ft,[at.a.LIVECHAT]:ft,[at.a.LIVESTORIES]:ft,[at.a.LEGACY]:function(t,e){return Object(it.a)((function(){var s=t.getters[r.H](e.value),i=Object(ot.g)(null==s?void 0:s.original_parent_id),n=t.getters[r.tc]({uuid:i}),a=dt(n.full_page_url?n.full_page_url:"".concat(window.location.protocol,"/").concat(window.location.host).concat(n.path),s.id);return{pageTitle:n.title,imageUrl:n.image_url,imageAlt:"",pageUrl:a}}))}});function lt(t,e,s){var i=ct[s];return i?i(t,e):function(){return{}}}var ut={pageTitle:"",imageUrl:"",imageAlt:"",pageUrl:""};function ft(t,e){return Object(it.a)((function(){var s,i=(null===(s=t.getters[r.R](e.value))||void 0===s?void 0:s.metadata)||ut,n=dt(i.origin_url,e.value);return{pageTitle:i.origin_title,imageUrl:i.origin_image_url,imageAlt:i.origin_image_alt,pageUrl:n}}))}function dt(t,e){if(!t)return"#";var s=new URL(t);return s.hash="vf-".concat(e),s.searchParams.append("__vfz","medium=".concat(nt.TRAY_NOTIFICATION_MEDIUM)),s.href}var pt={[at.a.LIVECOMMENTS]:vt,[at.a.LIVECHAT]:vt,[at.a.LIVESTORIES]:vt,[at.a.LEGACY]:function(t,e){return Object(it.a)((function(){return t.getters[r.H](e.value).content}))}},ht=function(t,e,s){var i=pt[s];return i?i(t,e):function(){return{}}};function vt(t,e){return Object(it.a)((function(){var s;return null===(s=t.getters[r.R](e.value))||void 0===s?void 0:s.content}))}var mt=s(307),gt=s(766),bt=s(691),_t={[Q.a]:"aria.feed.notifications.new",[Q.c]:"aria.feed.notifications.seen",[Q.b]:"aria.feed.notifications.read"},yt={components:{roundIconButton:v.a,unseenNotifier:bt.a},inject:[mt.b,mt.a],props:{status:{type:String,required:!0},clickable:{type:Boolean,default:!1},dotPalette:{type:String,default(){return this.PALETTES.ACCENT}},deletable:{type:Boolean,default:!1}},computed:{isNew(){return this.status===Q.a},isSeen(){return this.status===Q.c},isRead(){return this.status===Q.b},classes(){return{"vf-notification":!0,"vf-notification--seen":!this.isNew,"vf-notification--read":this.isRead,"vf-notification--unread":this.isNew||this.isSeen,"vf-clickable":this.clickable}}},created(){this.closeIcon=gt.a,this.STATUS_TEXT=_t}},wt=Object(j.a)(yt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:t.classes},[t.isNew?s("unseen-notifier",{staticClass:"vf-notification-status",attrs:{palette:t.dotPalette}}):t._e(),t._v(" "),s("span",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n(t.STATUS_TEXT[t.status]))+"\n    ")]),t._v(" "),t._t("default"),t._v(" "),t.deletable?s("round-icon-button",{staticClass:"vf-delete-icon",attrs:{icon:t.closeIcon,"aria-label":t.$i18n("aria.feed.notifications.delete")},on:{click:function(e){return t.$emit("delete")}}}):t._e()],2)}),[],!1,null,"2c62d750",null).exports,Ot=s(663),Ct=s(722),Et=s(990),jt={components:{vfAvatar:Ot.a,itemLayout:Et.a,vfTimestamp:Ct.a},inject:[mt.b],props:{tag:{type:String,default:"div"},user:Object,timestamp:Number,title:String,image:Object,hasImage:Boolean,size:{type:String,default(){return this.SIZES.MEDIUM}},ariaLabel:{type:String}},data:()=>({hasImageFailed:!1}),computed:{avatarProps(){return{user:this.user,current_user_uuid:this.$store.getters[r.jb],size:this.SIZES.SMALL,isClickable:!0}}},methods:{onAvatarClick(){this.$publish(a.D.CHANNEL,a.D.EVENTS.CHANGE,f.c.PROFILE,{user_uuid:this.user.uuid})}}},$t=Object(j.a)(jt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(t.tag,{tag:"component",staticClass:"vf-notification-record vf-no-outline",class:{"vf-notification-record--link":"a"===t.tag}},[s("div",{staticClass:"vf-notification-record__identifier-col"},[t._t("identifier",[s("vf-avatar",t._b({nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onAvatarClick(e)}}},"vf-avatar",t.avatarProps,!1))])],2),t._v(" "),t.ariaLabel?s("span",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.ariaLabel)+"\n    ")]):t._e(),t._v(" "),s("item-layout",{staticClass:"vf-notification-record__content",attrs:{"is-reversed":"","collapse-height":"",title:t.title,image:t.image,"has-image":(t.hasImage||Boolean(t.image&&t.image.src))&&!t.hasImageFailed,size:t.size,"aria-hidden":Boolean(t.ariaLabel).toString()},on:{"img-error":function(e){t.hasImageFailed=!0}},scopedSlots:t._u([{key:"title",fn:function(e){return[t._t("title",null,null,e)]}},{key:"additional-details",fn:function(e){return[t._t("additional-details",[s("vf-timestamp",{class:e.classes.base,attrs:{timestamp:t.timestamp}})],null,e)]}},{key:"image",fn:function(e){return[t._t("image",null,null,e)]}}],null,!0)})],1)}),[],!1,null,"2395ea75",null).exports,xt=s(980);function St(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Tt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?St(Object(s),!0).forEach((function(e){Pt(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):St(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Pt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Nt={props:{user:{type:Object,required:!0},hasComma:{type:Boolean,default:!1}},computed:Tt(Tt({},Object(d.c)({isAuthor:r.fc})),{},{badgeProps(){return{name:this.user.name,isAuthor:this.isAuthor(this.user.uuid),isTrustedUser:this.$can("trust","user",this.user),isModerator:this.$can("moderate","comment",this.user)}}}),components:{userBadge:xt.a}},kt=Object(j.a)(Nt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t._v("\n    "+t._s(t.user.name)),s("user-badge",t._b({staticClass:"vf-user-badge"},"user-badge",t.badgeProps,!1)),t.hasComma?[t._v(",")]:t._e()],2)}),[],!1,null,"17159e85",null).exports,Ut={components:{userWithComma:kt},props:{users:{type:Array,required:!0}},computed:{numUsers(){return this.users.length},numOtherUsers(){return this.numUsers-this.maxNamesToShow},hasOtherUsers(){return this.numOtherUsers>0}},beforeCreate(){this.maxNamesToShow=2}},It={components:{usersAndOthers:Object(j.a)(Ut,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("em",[s("user-with-comma",{attrs:{user:t.users[0],"has-comma":t.numUsers>1}}),t._v(" "),t.numUsers>1?[t.numUsers===t.maxNamesToShow?[t._v("\n            "+t._s(t.$i18n("feed.notifications.common.and"))+"\n        ")]:t._e(),t._v(" "),s("user-with-comma",{attrs:{user:t.users[1],"has-comma":t.numUsers>t.maxNamesToShow}})]:t._e(),t._v(" "),t.hasOtherUsers?[t._v("\n        "+t._s(t.$i18n("feed.notifications.common.others",{num:t.numOtherUsers}))+"\n    ")]:t._e()],2)}),[],!1,null,null,null).exports},props:{users:{type:Array,required:!0}}},At=Object(j.a)(It,(function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("users-and-others",{attrs:{users:this.users}}),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports,Lt={components:{userWithComma:kt},props:{user:{type:Object,required:!0}}},Dt=Object(j.a)(Lt,(function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("em",[e("user-with-comma",{attrs:{user:this.user}}),this._v(" "),this._t("user-right"),this._v(" â€”\n    ")],2),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports;function Mt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Ft(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(s),!0).forEach((function(e){Rt(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Mt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Rt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Bt={props:{uuid:h.a.uuid.required,unmutedActors:h.a.array.required},setup(t,e){var s=t.uuid,i=e.parent.$store,r=rt(i,s),n=ht(i,r.firstContentUuid,r.service_type),a=lt(i,r.firstContentUuid,r.service_type);return{status:r.status,timestamp:r.timestamp,users:r.users,pageMeta:a,content:n,MENTION_PALETTE:et.a.MENTION}},computed:Ft(Ft({},Object(d.c)({isLoggedIn:r.Sb})),{},{firstUser(){return this.users[0]},singleReplyText(){return Object(st.b)(this.content,f.a)}}),methods:{deleteSelf(){return this.$store.dispatch(i.v,this.uuid)},onClick(){var t=this;this.$store.dispatch(i.Yb,this.uuid).then((function(){t.$publish("window","redirect",t.pageMeta.pageUrl)}))}},components:{contentMany:At,contentSingle:Dt,notificationRecord:$t,notificationListItem:wt}},Ht=Object(j.a)(Bt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("notification-list-item",{attrs:{status:t.status,"dot-palette":t.MENTION_PALETTE,deletable:t.isLoggedIn},on:{delete:t.deleteSelf}},[s("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.pageMeta.pageUrl,timestamp:t.timestamp,user:t.firstUser,image:{src:t.pageMeta.imageUrl,alt:t.pageMeta.imageAlt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var i=e.classes;return[1===t.users.length?s("content-single",{class:Object.values(i),attrs:{user:t.firstUser},scopedSlots:t._u([{key:"user-right",fn:function(){return[t._v("\n                        "+t._s(t.$i18n("feed.notifications.mentions.single"))+"\n                    ")]},proxy:!0}],null,!0)},[t._v("\n                    "+t._s(t.singleReplyText)+"\n                ")]):s("content-many",{class:Object.values(i),attrs:{users:t.users,"page-title":t.pageMeta.pageTitle}},[t._v("\n                    "+t._s(t.$i18n("feed.notifications.mentions.many",{num:t.users.length,pageTitle:t.pageMeta.pageTitle}))+"\n                ")])]}}])})],1)],1)}),[],!1,null,null,null).exports;function Vt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function zt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(s),!0).forEach((function(e){qt(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Vt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function qt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Gt={props:{uuid:h.a.uuid.required,unmutedActors:h.a.array.required},setup(t,e){var s=t.uuid,i=e.parent.$store,r=rt(i,s),n=lt(i,r.firstContentUuid,r.service_type);return{status:r.status,timestamp:r.timestamp,users:r.users,pageMeta:n}},computed:zt(zt({},Object(d.c)({isLoggedIn:r.Sb})),{},{firstUser(){return this.users[0]},likeText(){return this.$i18n("feed.notifications.likes.generic",{num:this.users.length,pageTitle:this.pageMeta.pageTitle})}}),methods:{deleteSelf(){return this.$store.dispatch(i.v,this.uuid)},onClick(){var t=this;this.$store.dispatch(i.Yb,this.uuid).then((function(){t.$publish("window","redirect",t.pageMeta.pageUrl)}))}},components:{contentMany:At,contentSingle:Dt,notificationRecord:$t,notificationListItem:wt}},Kt=Object(j.a)(Gt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("notification-list-item",{attrs:{status:t.status,deletable:t.isLoggedIn},on:{delete:t.deleteSelf}},[s("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.pageMeta.pageUrl,timestamp:t.timestamp,user:t.firstUser,image:{src:t.pageMeta.imageUrl,alt:t.pageMeta.imageAlt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var i=e.classes;return[1===t.users.length?s("content-single",{class:Object.values(i),attrs:{user:t.firstUser}},[t._v("\n                    "+t._s(t.likeText)+"\n                ")]):s("content-many",{class:Object.values(i),attrs:{users:t.users}},[t._v("\n                    "+t._s(t.$i18n("feed.notifications.likes.generic",{num:t.users.length,pageTitle:t.pageMeta.pageTitle}))+"\n                ")])]}}])})],1)],1)}),[],!1,null,null,null).exports;function Jt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Wt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(s),!0).forEach((function(e){Yt(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Jt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Yt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Zt={props:{uuid:h.a.uuid.required,unmutedActors:h.a.array.required},setup(t,e){var s=t.uuid,i=e.parent.$store,r=rt(i,s),n=ht(i,r.firstContentUuid,r.service_type),a=lt(i,r.firstContentUuid,r.service_type);return{status:r.status,timestamp:r.timestamp,users:r.users,pageMeta:a,content:n}},computed:Wt(Wt({},Object(d.c)({isLoggedIn:r.Sb})),{},{firstUser(){return this.users[0]},text(){return Object(st.b)(this.content,f.a)}}),methods:{deleteSelf(){return this.$store.dispatch(i.v,this.uuid)},onClick(){var t=this;this.$store.dispatch(i.Yb,this.uuid).then((function(){t.$publish("window","redirect",t.pageMeta.pageUrl)}))}},components:{contentMany:At,contentSingle:Dt,notificationRecord:$t,notificationListItem:wt}},Xt=Object(j.a)(Zt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("notification-list-item",{attrs:{status:t.status,deletable:t.isLoggedIn},on:{delete:t.deleteSelf}},[s("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.pageMeta.pageUrl,timestamp:t.timestamp,user:t.firstUser,image:{src:t.pageMeta.imageUrl,alt:t.pageMeta.imageAlt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var i=e.classes;return[1===t.users.length?s("content-single",{class:Object.values(i),attrs:{user:t.firstUser},scopedSlots:t._u([{key:"user-right",fn:function(){return[t._v("\n                        "+t._s(t.$i18n("feed.notifications.comments.single"))+"\n                    ")]},proxy:!0}],null,!0)},[t._v("\n                    "+t._s(t.text)+"\n                ")]):s("content-many",{class:Object.values(i),attrs:{users:t.users}},[t._v("\n                    "+t._s(t.$i18n("feed.notifications.comments.many",{num:t.users.length,pageTitle:t.pageMeta.pageTitle}))+"\n                ")])]}}])})],1)],1)}),[],!1,null,null,null).exports,Qt=s(420),te=function(t,e){return Object.freeze({status:t,i18nKey:e,key:Object(Qt.a)()})},ee=s(758);function se(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ie(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?se(Object(s),!0).forEach((function(e){re(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):se(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function re(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var ne={props:{targetUserUuid:h.a.uuid.required,analyticsAction:h.a.string.required},computed:ie(ie({},Object(d.c)({currentUser:r.hb,userByUuid:r.kd,settings:r.Jc,getFollowee:r.yb})),{},{isUserFollowed(){return Boolean(this.getFollowee(this.targetUserUuid))},targetUser(){return this.userByUuid(this.targetUserUuid)}}),methods:{attemptFollow(){return this.$authorize("follow","user",[this.currentUser,this.targetUser,this.settings],{action:this.analyticsAction})?(this.$emit("click"),this.isUserFollowed?this.attemptAction(i.ld,"feed.alerts.unfollow"):this.attemptAction(i.Hb,"feed.alerts.follow")):Promise.resolve()},attemptAction(t,e){var s=this,i=this.$store.getters[r.jb];return this.$store.dispatch(t,{uuid:this.targetUserUuid}).catch((function(){var t=te(F.REJECTED,e);s.$store.commit(n.u,{key:i,items:[t]})}))}},components:{followButton:ee.a}},ae=Object(j.a)(ne,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("follow-button",{attrs:{"is-following":t.isUserFollowed,"unfollow-text":t.$i18n("user_actions.unfollow"),"is-following-text":t.$i18n("user_actions.following"),"is-following-aria":t.$i18n("tray.user_actions.user_unfollow_aria_label",{username:t.targetUser.name}),"is-not-following-text":t.$i18n("user_actions.follow"),"is-not-following-aria":t.$i18n("tray.user_actions.user_follow_aria_label",{username:t.targetUser.name})},on:{click:t.attemptFollow}})}),[],!1,null,null,null).exports;function oe(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ce(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(s),!0).forEach((function(e){le(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):oe(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function le(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var ue={inject:[mt.b],props:{uuid:h.a.uuid.required,unmutedActors:h.a.array.required},setup(t,e){var s=t.uuid,i=e.parent.$store,r=rt(i,s);return{status:r.status,timestamp:r.timestamp,users:r.users,TRAY_NOTIFICATIONS_FOLLOW_REFOLLOW:o.H}},computed:ce(ce({},Object(d.c)({isLoggedIn:r.Sb})),{},{shouldShowButton(){return 1===this.users.length&&!this.$store.getters[r.yb](this.firstUser.uuid)},firstUser(){return this.users[0]}}),methods:{deleteNotification(){return this.$store.dispatch(i.v,this.uuid)},onClick(){this.$store.dispatch(i.Yb,this.uuid),this.$publish(a.D.CHANNEL,a.D.EVENTS.CHANGE,f.c.COMMUNITY)}},components:{contentMany:At,contentSingle:Dt,followUserButton:ae,notificationRecord:$t,notificationListItem:wt}},fe=Object(j.a)(ue,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("notification-list-item",{staticClass:"follow-notification",attrs:{status:t.status,clickable:t.unmutedActors.length>1,deletable:t.isLoggedIn},on:{delete:t.deleteNotification}},[s("notification-record",{staticClass:"feed",attrs:{user:t.firstUser,timestamp:t.timestamp,tag:"button","has-image":""},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var i=e.classes;return[1===t.users.length?s("content-single",{class:Object.values(i),attrs:{user:t.firstUser}},[t._v("\n                    "+t._s(t.$i18n("feed.notifications.follow",{num:t.users.length}))+"\n                ")]):s("content-many",{class:Object.values(i),attrs:{users:t.users}},[t._v("\n                    "+t._s(t.$i18n("feed.notifications.follow",{num:t.users.length}))+"\n                ")])]}},{key:"image",fn:function(){return[t.shouldShowButton?s("follow-user-button",{attrs:{"target-user-uuid":t.firstUser.uuid,"analytics-action":t.TRAY_NOTIFICATIONS_FOLLOW_REFOLLOW}}):t._e()]},proxy:!0}])})],1),t._v(">\n")],1)}),[],!1,null,null,null).exports,de=s(1103),pe=s.n(de),he=s(661),ve=he.a.extend({data:()=>({graphics:pe.a})}),me=s(1003);function ge(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function be(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(s),!0).forEach((function(e){_e(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ge(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function _e(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var ye={props:{uuid:{type:String,required:!0}},computed:be(be({},Object(d.c)({isLoggedIn:r.Sb,topicById:r.ib,getNotification:r.p})),{},{notification(){return this.getNotification(this.uuid)},topic(){return this.topicById(this.notification.target_topic_id)||{}},url(){var t=new URL(this.notification.full_page_url||this.notification.target_url);return t.searchParams.append("__vfz","medium=".concat(nt.TRAY_NOTIFICATION_MEDIUM)),t.href},isAuthorTopic(){return"author"===this.topic.topic_type}}),methods:{onClick(){this.isLoggedIn?this.$store.dispatch(i.Zb,this.uuid).then(this.redirect).catch(this.redirect):this.redirect()},redirect(){this.$publish("window","redirect",this.url)},deleteSelf(){return this.$store.dispatch(i.w,this.uuid)}},components:{notificationRecord:$t,notificationListItem:wt,vfTopicIcon:ve,vfAuthorIcon:me.a}},we=Object(j.a)(ye,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("notification-list-item",{attrs:{clickable:"",status:t.notification.status,deletable:t.isLoggedIn},on:{delete:t.deleteSelf}},[s("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.url,timestamp:t.notification.time,image:{src:t.notification.target_image_url,alt:t.notification.target_image_alt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"identifier",fn:function(){return[t.isAuthorTopic?s("vf-author-icon",{staticClass:"vf-topic-icon"}):s("vf-topic-icon",{staticClass:"vf-topic-icon"})]},proxy:!0},{key:"title",fn:function(e){var i=e.classes;return[s("p",{class:i.text},[t.isAuthorTopic?[s("strong",[t._v(t._s(t.topic.topic_name))]),t._v(" "+t._s(t.$i18n("feed.notifications.author"))+"\n                    ")]:[t._v("\n                        "+t._s(t.$i18n("feed.notifications.topic"))+" "),s("strong",[t._v(t._s(t.topic.topic_name))]),t._v(".\n                    ")]],2),t._v(" "),s("p",{staticClass:"vf-notification__main",class:i.text},[t._v("\n                    "+t._s(t.notification.target_title)+"\n                ")])]}}])})],1),t._v(">\n")],1)}),[],!1,null,"388a6e4a",null).exports,Oe=s(54),Ce=s(1105),Ee=s.n(Ce),je=he.a.extend({data:()=>({graphics:Ee.a})}),$e=s(708);function xe(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Se(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(s),!0).forEach((function(e){Te(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):xe(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Te(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Pe={props:{uuid:h.a.uuid.required,unmutedActors:h.a.array.required},computed:Se(Se({},Object(d.c)({isLoggedIn:r.Sb,getNotification:r.p,settings:r.Jc})),{},{notification(){return this.getNotification(this.uuid)},notificationStatus(){var t=this.$store.state.notifications.broadcasts.guest_user;return this.isLoggedIn||""===t?this.getNotification(this.uuid).status:"seen"},url(){var t=new URL(this.notification.full_page_url||this.notification.target_url);return t.searchParams.append("__vfz","medium=".concat(nt.TRAY_NOTIFICATION_MEDIUM)),t.href},clientProvidedIcon(){var t;return null===(t=this.settings[Oe.c.NOTIFICATION_IMAGE])||void 0===t?void 0:t.large}}),methods:{onClick(){this.isLoggedIn?this.$store.dispatch(i.Zb,this.uuid).then(this.redirect).catch(this.redirect):this.redirect()},redirect(){this.$publish("window","redirect",this.url)},deleteSelf(){return this.$store.dispatch(i.w,this.uuid)}},components:{notificationListItem:wt,notificationRecord:$t,vfNewsfeedIcon:je,vfImage:$e.b}},Ne=Object(j.a)(Pe,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("notification-list-item",{attrs:{clickable:"",status:t.notificationStatus,deletable:t.isLoggedIn},on:{delete:t.deleteSelf}},[s("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.url,timestamp:t.notification.time,title:t.notification.target_title,image:{src:t.notification.target_image_url,alt:t.notification.target_image_alt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var i=e.classes;return[s("p",{class:i.text},[t._v("\n                    "+t._s(t.notification.target_title)+"\n                ")]),t._v(" "),s("p",{staticClass:"vf-notification__main",class:i.text},[t._v("\n                    "+t._s(t.notification.target_description)+"\n                ")])]}},{key:"identifier",fn:function(){return[Boolean(t.clientProvidedIcon)?s("vf-image",{staticClass:"vf-topic-icon vf-topic-icon--client",attrs:{"aria-hidden":"true",src:t.clientProvidedIcon,"original-width":100,"original-height":100,"crop-shape":"square"}}):s("vf-newsfeed-icon",{staticClass:"vf-topic-icon",attrs:{"aria-hidden":"true"}})]},proxy:!0}])})],1)],1)}),[],!1,null,"1bc48f8d",null).exports,ke={[X.a.FOLLOW]:fe,[X.a.BROADCAST_TOPIC]:we,[X.a.BROADCAST_SITE]:Ne,[X.a.REPLY]:Ht,[X.a.LIKE]:Kt,[X.a.SUBSCRIBED_PAGE_CONTENT]:Xt,[X.a.SUBSCRIBED_USER_CONTENT]:Xt};var Ue={functional:!0,props:{notifications:h.a.array.required},render(t,e){var s=e.props.notifications.map((function(e){return function(t,e){return t(ke[e.type],{key:e.uuid,props:{uuid:e.uuid,unmutedActors:e.unmutedActors}})}(t,e)}));return t("ol",s)}},Ie=Object(j.a)(Ue,void 0,void 0,!1,null,null,null).exports,Ae={props:{tag:{type:String,default:"div"}}},Le=Object(j.a)(Ae,(function(t,e){var s=e._c;return s(e.props.tag,e._b({tag:"component",staticClass:"record",class:[e.data.staticClass,e.data.class]},"component",e.data.attrs,!1),[s("div",{staticClass:"record__col"},[e._t("identifier")],2),e._v(" "),s("div",{staticClass:"record__col"},[e._t("content"),e._v(" "),e._t("timestamp")],2),e._v(" "),s("div",{staticClass:"record__col"},[e._t("action")],2)])}),[],!0,null,null,null).exports,De={components:{vfRecord:Le,roundIconButton:v.a},props:{text:{type:String},ariaLabel:{type:String,required:!0},shouldShowClearButton:{type:Boolean,default:!1}},created(){this.closeIcon=gt.a}},Me=Object(j.a)(De,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vf-record",{staticClass:"feed__header vf-tray-section-header vf-notification-section-header",scopedSlots:t._u([{key:"identifier",fn:function(){return[s("h3",{staticClass:"vf-label vf-label-upper feed__header__title"},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("\n                "+t._s(t.text)+"\n            ")]),t._v(" "),s("span",{staticClass:"vf-offscreen-text"},[t._v("\n                "+t._s(t.ariaLabel)+"\n            ")])])]},proxy:!0},{key:"action",fn:function(){return[t.shouldShowClearButton?s("round-icon-button",{staticClass:"vf-delete-icon",attrs:{icon:t.closeIcon,"aria-label":t.$i18n("aria.feed.notifications.delete_section")},on:{click:function(e){return t.$emit("clear")}}}):t._e()]},proxy:!0}])})}),[],!1,null,"727e3010",null).exports;function Fe(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Re(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(s),!0).forEach((function(e){Be(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Fe(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Be(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var He=[X.a.BROADCAST_TOPIC,X.a.BROADCAST_SITE,Q.d.TRENDING_ARTICLE],Ve={props:{header:h.a.shape(tt).isRequired,notifications:h.a.array.isRequired},computed:Re(Re({},Object(d.c)({isMutedUser:r.md,getUser:r.kd})),{},{hasNotifications(){return this.visibleNotifications.length>0},visibleNotifications(){var t=this;return this.notifications.map((function(e){return{uuid:e.uuid||e.notification_uuid,type:e.notification_type,service_type:e.service_type,section:t.section,unmutedActors:t.getUnmutedActors(e)}})).filter((function(t){return t.unmutedActors.length>0}))},shouldShowClearButton(){return this.notifications.length>0&&Object(b.H)(this.$user())}}),methods:Re(Re({},Object(d.b)({deleteAggregate:i.v,deleteBroadcast:i.w})),{},{getUnmutedActors(t){var e=this;return He.includes(t.notification_type)?[t.actor_uuid]:t.actor_uuid_list.filter((function(t){return e.getUser(t).name&&!e.isMutedUser(t)}))},clearSectionNotifications(){return Promise.all(this.clearNotifications())},clearNotifications(){var t=this;return this.notifications.map((function(e){switch(e.notification_type){case X.a.BROADCAST_TOPIC:case X.a.BROADCAST_SITE:return t.deleteBroadcast(e.notification_uuid);default:return t.deleteAggregate(e.grouping_key)}}))}}),components:{notificationsList:Ie,sectionHeader:Me}},ze=Object(j.a)(Ve,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.hasNotifications?s("section",{staticClass:"vf-empty-bg-colour vf-notification-section"},[s("section-header",{attrs:{text:t.$i18n(t.header.text),"aria-label":t.$i18n(t.header.ariaLabel,{count:t.visibleNotifications.length}),"should-show-clear-button":t.shouldShowClearButton},on:{clear:t.clearSectionNotifications}}),t._v(" "),s("notifications-list",{attrs:{notifications:t.visibleNotifications}})],1):t._e()])}),[],!1,null,null,null).exports,qe=s(1294),Ge=s(849),Ke={components:{notificationListItem:wt,notificationRecord:$t,vfTrendingIcon:qe.a,commentIcon:Ge.a},props:{title:h.a.string.isRequired,url:h.a.string.isRequired,imageUrl:h.a.string,imageAlt:h.a.string,count:h.a.number.isRequired},data(){return{fullUrl:this.url,hasImageError:!1,hasUrlError:!1}},computed:{clientImage(){var t=this.$store.getters[r.Jc].client_notification_image;return t&&t.small},recordProps(){return this.fullUrl?{tag:"a",href:this.fullUrl}:{tag:"div"}}},created(){this.READ_STATUS_READ=Q.b;try{var t=new URL(this.url);t.searchParams.append("__vfz","medium=".concat(nt.TRAY_TOP_PAGES_MEDIUM)),this.fullUrl=t.href}catch(t){console.error('The URL "'.concat(this.url,'" is invalid, please update the og:url on the article page to be a valid URL'))}}},Je=Object(j.a)(Ke,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("notification-list-item",{attrs:{clickable:Boolean(t.fullUrl),status:t.READ_STATUS_READ}},[s("notification-record",t._b({staticClass:"feed link",attrs:{title:t.title,image:{src:t.imageUrl,alt:t.imageAlt},"aria-label":t.$i18n("trending_articles.trending_article.comments.a11y_label",{title:t.title,count:t.count})},scopedSlots:t._u([{key:"identifier",fn:function(){return[s("vf-trending-icon",{staticClass:"vf-trending-icon",attrs:{"aria-hidden":!0}})]},proxy:!0},{key:"additional-details",fn:function(e){var i=e.classes;return[s("p",{staticClass:"vf-num-comments",class:Object.values(i)},[s("comment-icon",{staticClass:"vf-comment-icon"}),t._v("\n                    "+t._s(t.count)+"\n                ")],1)]}}])},"notification-record",t.recordProps,!1))],1)],1)}),[],!1,null,null,null).exports,We={props:{header:h.a.shape(tt).isRequired,notifications:h.a.array.isRequired},components:{trendingArticle:Je,sectionHeader:Me}},Ye=Object(j.a)(We,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.notifications.length>0?s("section",{staticClass:"vf-empty-bg-colour vf-notification-section"},[s("section-header",{attrs:{text:t.$i18n(t.header.text),"aria-label":t.$i18n(t.header.ariaLabel,{count:t.notifications.length})}}),t._v(" "),s("ol",t._l(t.notifications,(function(t){return s("trending-article",{key:t.url,attrs:{title:t.origin_title,url:t.origin_url,"image-url":t.origin_image_url,"image-alt":t.origin_image_alt,count:t.total_visible_contents}})})),1)],1):t._e()])}),[],!1,null,null,null).exports,Ze=s(412),Xe=s(700),Qe={components:{closeButton:Xe.a},inject:["settings"],data(){var t=Object(y.f)();return{slideOut:!1,isVisible:!0,text:{header:this.$i18n("feed.opt_in.header"),close:this.$i18n("feed.opt_in.close"),description:t?this.$i18n("feed.opt_in.description_mobile"):this.$i18n("feed.opt_in.description_desktop"),link:this.$i18n("feed.opt_in.link_subscribe"),linkDescription:t?this.$i18n("feed.opt_in.link_description_mobile"):this.$i18n("feed.opt_in.link_description_desktop"),status:this.$i18n("feed.opt_in.link_subcription_status_unsubscribed")}}},computed:{user(){return this.$store.getters[r.hb]},pushState(){return this.$store.getters[r.wc](this.user.uuid)},subscriptionStatus(){return this.pushState.isSubscribed},promptOptIn(){var t=this.settings.enable_push_notifications&&Object(p.h)()&&!this.wasDismissedByUser()&&!this.userHasSubscribed()&&Object(p.i)()&&this.hasSubscriptionDomain;return Object(b.H)(this.user)?t:t&&!Object(Ze.d)(this.pushState)&&!Object(Ze.c)(this.pushState)},classes:()=>({"vf-mobile":Object(y.f)()}),hasSubscriptionDomain(){return Object(p.f)()||Object(p.e)()||Boolean(this.settings.client_opt_in_url)}},watch:{subscriptionStatus(t){"processing"===t?(this.text.link=this.$i18n("feed.opt_in.link_processing"),this.text.status=this.$i18n("feed.opt_in.link_subscription_status_processing")):!1===t?(this.text.link=this.$i18n("feed.opt_in.link_error"),this.text.status=this.$i18n("feed.opt_in.link_subscription_status_error")):this.text.status=this.$i18n("feed.opt_in.link_subscription_status_subscribed")}},created(){this.$subscribe("push","subscribed",this.close),this.$subscribe("push","unsubscribed",this.showComponent)},methods:{dismiss(){this.setAsDismissed(),this.close()},subscribe(){this.$publish("push","subscribe")},setAsDismissed(){window.localStorage.setItem("".concat("vf-push-notifications-opt-in","_").concat(this.user.uuid),"dismissed")},close(){this.isVisible=!1},showComponent(){this.isVisible=!0},wasDismissedByUser(){return window.localStorage.getItem("".concat("vf-push-notifications-opt-in","_").concat(this.user.uuid))||!this.isVisible},userHasSubscribed(){return!0===this.pushState.isSubscribed}}},ts=Object(j.a)(Qe,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slideout"}},[t.promptOptIn?s("div",{staticClass:"vf-notification-opt-in vf-secondary-text-colour",class:t.classes},[s("close-button",{directives:[{name:"show",rawName:"v-show",value:t.promptOptIn,expression:"promptOptIn"}],staticClass:"vf-close-opt-in",attrs:{"aria-label":t.text.close},on:{close:t.dismiss}}),t._v(" "),s("h2",[t._v(t._s(t.text.header))]),t._v(" "),s("p",[t._v(t._s(t.text.description))]),t._v(" "),s("div",{staticClass:"vf-opt-in-link-container"},[s("a",{directives:[{name:"show",rawName:"v-show",value:t.promptOptIn,expression:"promptOptIn"}],staticClass:"vf-button vf-opt-in-link vf-primary-bg-colour vf-primary-text-colour",attrs:{"aria-describedby":"vf-opt-in-link-desc",href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.subscribe(e)}}},[t._v("\n                "+t._s(t.text.link)+"\n            ")]),t._v(" "),s("em",{staticClass:"vf-offscreen-text",attrs:{id:"vf-opt-in-link-desc"}},[t._v("\n                "+t._s(t.text.linkDescription)+"\n            ")]),t._v(" "),s("strong",{staticClass:"vf-opt-in-status vf-offscreen-text",attrs:{"aria-role":"polite"}},[t._v("\n                "+t._s(t.text.status)+"\n            ")])])],1):t._e()])}),[],!1,null,null,null).exports,es=s(48);function ss(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function is(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ss(Object(s),!0).forEach((function(e){rs(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ss(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function rs(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var ns={data:()=>({trendingId:null}),created(){this.trendingFetchStatusKey=Object(Z.a)(),this.settings.enable_tray_trending_articles&&this.fetchTrendingContent()},computed:is(is({},Object(d.c)({sectionUuid:r.Ac,settings:r.Jc})),{},{currentUserUuid(){return this.$store.getters[r.jb]},alertsList(){return this.$store.getters[r.dd](this.currentUserUuid)},sections(){return[{header:{text:"feed.header.today",ariaLabel:"aria.feed.header.today"},notifications:this.$store.getters[r.od]},{header:{text:"feed.header.yesterday",ariaLabel:"aria.feed.header.yesterday"},notifications:this.$store.getters[r.pd]},{header:{text:"feed.header.older",ariaLabel:"aria.feed.header.older"},notifications:this.$store.getters[r.nd]}]},articlesSection(){return{isVisible:!0,header:{text:"feed.header.trending_articles",ariaLabel:"aria.feed.header.trending_articles"},notifications:this.trendingArticles}},showOptIn:()=>Object(p.f)()||Object(p.e)(),trendingArticles(){if(null===this.trendingId||!this.$store.getters[r.gc](W.b.TRENDING_ARTICLES))return[];var t=this.$store.getters[r.Bb](this.trendingId);return t&&t.trending||[]}}),methods:{fetchTrendingContent(){var t=this;this.$store.dispatch(i.Wb,W.b.TRENDING_ARTICLES),Object(es.o)(this.$store).then((function(){return t.$store.dispatch(i.yb,{section_uuid:t.sectionUuid,limit:Y.b.DEFAULT,content_container_window_days:Y.a.DEFAULT,content_window_hours:Y.f.DEFAULT,sorted_by:"total_visible_contents",status_key:t.trendingFetchStatusKey})})).then((function(e){var s=e.trending_id;t.trendingId=s}))},getAlertComponentName:t=>q[t]},components:{feedOptIn:ts,feedSection:ze,articlesSection:Ye}},as=Object(j.a)(ns,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showOptIn?s("feed-opt-in"):t._e(),t._v(" "),s("div",{staticClass:"vf-feed-content vf-empty-bg-colour"},[s("section",{staticClass:"vf-notification-alert-section",attrs:{role:"alert"}},[s("ol",{staticClass:"vf-vert-list"},t._l(t.alertsList,(function(e){return s(t.getAlertComponentName(e.status),{key:e.key,tag:"component",attrs:{alert:e}})})),1)]),t._v(" "),s("h2",{staticClass:"vf-offscreen-text"},[t._v("\n            "+t._s(t.$i18n("aria.feed.notifications.tray_feed_header"))+"\n        ")]),t._v(" "),t._l(t.sections,(function(t){return s("feed-section",{key:t.header.text,attrs:{header:t.header,notifications:t.notifications}})})),t._v(" "),s("articles-section",t._b({},"articles-section",t.articlesSection,!1))],2)],1)}),[],!1,null,null,null).exports,os=s(1106),cs=s.n(os),ls=s(651),us=s(652),fs=s(653),ds={components:{vfButton:ls.a},directives:{hovered:fs.a,innerFocus:us.a},inject:[mt.b],props:{userUuid:{type:String,required:!0}},data:()=>({isEntered:!1,wasJustClicked:!1}),computed:{classes(){return{"vf-mute-button--unmuted":!this.isMuted,"vf-mute-button--muted-and-hovered":this.isMuted&&(this.wasJustClicked||!this.isEntered),"vf-mute-button--muted":this.isMuted}},xClasses(){return{"vf-svg-mute__x--rotated":this.canShowUnmute}},user(){return this.$store.getters[r.kd](this.userUuid)},isMuted(){return this.user.is_muted},currentText(){return this.canShowUnmute?this.unmuteText:this.isMuted?this.isMutedText:this.isNotMutedText},currentAriaLabel(){return this.isMuted?this.isMutedAria:this.isNotMutedAria},longestText(){return[this.unmuteText,this.isMutedText,this.isNotMutedText].reduce((function(t,e){return t.length>e.length?t:e}))},canShowUnmute(){return this.isMuted&&!this.wasJustClicked&&this.isEntered},displayName(){return this.user?this.user.username_pending||this.user.name:null},isMutedAria(){return this.$i18n("user_actions.unmute_aria_label",{username:this.displayName})},isNotMutedAria(){return this.$i18n("user_actions.mute_aria_label",{username:this.displayName})}},created(){this.unmuteText=this.$i18n("user_actions.unmute"),this.isMutedText=this.$i18n("user_actions.muted"),this.isNotMutedText=this.$i18n("user_actions.mute")},methods:{toggleEntered(t){this.isEntered=t,t||(this.wasJustClicked=!1)},setClicked(){this.wasJustClicked=!0}}},ps=Object(j.a)(ds,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vf-button",t._g(t._b({directives:[{name:"inner-focus",rawName:"v-inner-focus",value:t.toggleEntered,expression:"toggleEntered"},{name:"hovered",rawName:"v-hovered",value:t.toggleEntered,expression:"toggleEntered"}],staticClass:"vf-mute-button vf-label-text",class:t.classes,attrs:{size:t.SIZES.TINY},on:{click:t.setClicked}},"vf-button",t.$attrs,!1),t.$listeners),[s("svg",{staticClass:"vf-svg-mute",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 100 100"}},[s("path",{staticClass:"vg-svg-mute__speaker",attrs:{d:"M53.966 18.014a1.77 1.77 0 0 0-.734.257L31.935 31.688H10.808c-.998\n            0-1.808.817-1.808 1.824v30.994c0 1.006.81 1.823 1.808 1.823H31.99l21.24\n            13.39c1.201.76 2.764-.11 2.769-1.539V19.838a1.813 1.813 0 0 0-2.034-1.824zm-1.581\n            5.1v51.761L34.308 63.48V34.508l18.077-11.395zm-39.77\n            12.22h18.077v27.349H12.615V35.335z"}}),t._v(" "),s("g",{attrs:{transform:"translate(78.9345964, 48.0244628)"}},[s("g",{staticClass:"vf-svg-mute__x",class:t.xClasses},[s("g",{attrs:{transform:"translate(-78.9345964,-48.0244628)"}},[s("path",{attrs:{d:"M66.935 33.024c-1.82.179-2.594 2.41-1.27 3.675l11.322 11.324-11.322\n                        11.291a2.13 2.13 0 0 0-.044 3.05c.84.852 2.215.847 3.05-.01l11.32-11.325\n                        11.32 11.325c.836.857 2.21.862 3.051.01a2.13 2.13 0 0 0-.044-3.05L82.996\n                        48.023l11.322-11.324c1.524-1.431.3-3.975-1.771-3.675-.473.066-.906.29-1.235.635l-11.32\n                        11.324-11.32-11.324a2.148 2.148 0 0 0-1.737-.635z"}})])])])]),t._v(" "),s("span",{staticClass:"vf-mute-button__text-container"},[s("span",{staticClass:"vf-offscreen-text",attrs:{"aria-live":"polite"}},[t._v("\n            "+t._s(t.currentAriaLabel)+"\n        ")]),t._v(" "),s("span",{staticClass:"vf-mute-button__text vf-flex",attrs:{"aria-hidden":"true"}},[t._v("\n            "+t._s(t.currentText)+"\n        ")]),t._v(" "),s("span",{staticClass:"vf-mute-button__hidden-text",attrs:{"aria-hidden":"true"}},[t._v("\n            "+t._s(t.longestText)+"\n        ")])])])}),[],!1,null,"90dc19ea",null).exports;function hs(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function vs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?hs(Object(s),!0).forEach((function(e){ms(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):hs(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function ms(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var gs={inject:["settings",mt.b,mt.a],props:["user"],created(){this.PROFILE_FOLLOW_USER=o.B},computed:vs(vs({},Object(d.c)({currentUser:r.hb,settings:r.Jc,getFollowee:r.yb})),{},{isUserFollowed(){return Boolean(this.getFollowee(this.user.uuid))},displayName(){var t;return this.isMyProfile?this.user?this.user.username_pending||this.user.name:null:null===(t=this.user)||void 0===t?void 0:t.name},showMuteButton(){return this.settings.enable_muting&&!this.isMyProfile&&!Object(b.I)(this.currentUser)},showFollowUserButton(){return!this.settings.disable_email_notifications},isMyProfile(){return t=this.user,e=this.currentUser,t.uuid===e.uuid;var t,e},avatarProps(){return{user:this.user,current_user_uuid:this.currentUser.uuid,size:this.SIZES.LARGE}}}),methods:{settingsButtonClicked(){this.$publish(a.C.CHANNEL,a.C.EVENTS.OPEN,null,f.c.SETTINGS)},attemptMute(){return this.$authorize("mute","user",[this.currentUser,this.user],{action:o.C})?this.user.is_muted?this.attemptAction(i.pd,"feed.alerts.unmute"):this.attemptAction(i.ec,"feed.alerts.mute"):Promise.resolve()},attemptAction(t,e){var s=this,i=this.$store.getters[r.jb];return this.$store.dispatch(t,{uuid:this.user.uuid}).catch((function(){var t=te(F.REJECTED,e);s.$store.commit(n.u,{key:i,items:[t]})}))}},components:{vfAvatar:Ot.a,vfButton:ls.a,muteButton:ps,followUserButton:ae}},bs=Object(j.a)(gs,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vf-flex vf-profile-header vf-tray-header-backdrop vf-profile-backdrop"},[s("vf-avatar",t._b({staticClass:"vf-profile-header__avatar"},"vf-avatar",t.avatarProps,!1)),t._v(" "),s("div",{staticClass:"vf-flex-vert vf-profile-header__right"},[s("div",{staticClass:"vf-profile-header__name vf-subheading-text truncate"},[t._v("\n            "+t._s(t.displayName)+"\n        ")]),t._v(" "),s("span",{staticClass:"vf-flex vf-profile-header__button-container"},[s("span",[t.isMyProfile?s("vf-button",{staticClass:" vf-label-text",attrs:{palette:t.PALETTES.ACCENT,size:t.SIZES.TINY,"is-inverted":"","is-cta":""},on:{click:t.settingsButtonClicked}},[t._v("\n                    "+t._s(t.$i18n("navigation.settings"))+"\n                ")]):t.showFollowUserButton?s("follow-user-button",{attrs:{"target-user-uuid":t.user.uuid,"analytics-action":t.PROFILE_FOLLOW_USER}}):t._e()],1),t._v(" "),t.showMuteButton?s("mute-button",{staticClass:"vf-profile-header__mute-button",attrs:{"user-uuid":t.user.uuid},on:{click:t.attemptMute}}):t._e()],1)])],1)}),[],!1,null,"4b80c609",null).exports,_s=T.default.extend({data:()=>({})}),ys=(s(19),s(33),s(954)),ws=s.n(ys),Os=s(955),Cs=s.n(Os),Es=s(956),js=s.n(Es),$s=s(1107),xs=s.n($s),Ss=he.a.extend({data:()=>({graphics:ws.a,viewBox:"0 0 17 17"})}),Ts=he.a.extend({data:()=>({graphics:js.a,viewBox:"-1 0 17 17"})}),Ps=he.a.extend({data:()=>({graphics:Cs.a,viewBox:"0 0 17 17"})}),Ns=T.default.extend({components:{vfCommentsIcon:Ss,vfFollowsIcon:Ts,vfLikesIcon:Ps},props:["count"],computed:{getIconName(){return"vf-".concat(this.count.name,"-icon")}},template:xs.a});function ks(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Us(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ks(Object(s),!0).forEach((function(e){Is(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ks(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Is(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var As={inject:["settings"],props:{user:h.a.object.isRequired},created(){var t=this;this.profileCounts=[{name:"comments",icon:ws.a,test:function(){return!0}},{name:"likes",icon:Cs.a,test:function(){return!0}},{name:"follows",icon:js.a,test:function(){return Object(b.h)(t.settings)}}]},computed:Us(Us({},Object(d.c)({getUserOverviewByUuid:r.qd,followersCountByUserUuid:r.sb})),{},{allUserOverview(){return this.getUserOverviewByUuid(this.user.uuid)},commentCountText(){return this.$i18n("profile.comment",{num:this.allUserOverview.content_created})},likesReceivedText(){return this.$i18n("profile.like",{num:this.allUserOverview.likes_received})},followersCount(){return this.followersCountByUserUuid(this.user.uuid)},followersText(){return this.$i18n("profile.followers",{num:this.followersCount})},filteredCounts(){var t=this;return[{text:this.commentCountText,count:this.allUserOverview.content_created,hasClickEvent:!1},{text:this.likesReceivedText,count:this.allUserOverview.likes_received,hasClickEvent:!1},{text:this.followersText,count:this.followersCount,hasClickEvent:!1}].map((function(e,s){return Us(Us({},t.profileCounts[s]),e)})).filter((function(t){return t.test()}))}}),components:{vfProfileCount:Ns}},Ls=Object(j.a)(As,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"vf-profile-overview"},[e("ul",{staticClass:"vf-counts-list vf-horiz-list"},this._l(this.filteredCounts,(function(t){return e("vf-profile-count",{key:t.name,class:"vf-counts-list__"+t.name,attrs:{count:t,"data-count":t.count}})})),1)])}),[],!1,null,null,null).exports,Ds=s(1108),Ms=s.n(Ds),Fs=s(655),Rs=T.default.extend({components:{vfExclamationMarkIcon:Fs.a},props:["type","name"],computed:{content(){var t="activity.content.alert.".concat(this.type);return this.name?this.$i18n("".concat(t,".other"),{name:this.name}):this.$i18n("".concat(t,".self"))},classes(){return{"vf-content-alert":!0,["vf-content-alert-".concat(this.type)]:!0}}},template:Ms.a}),Bs=(s(32),s(1109)),Hs=s.n(Bs),Vs=s(1110),zs=s.n(Vs),qs=s(1111),Gs=s.n(qs),Ks=he.a.extend({data:()=>({graphics:Gs.a})}),Js=T.default.extend({components:{vfProcessingIcon:Ks,vfImage:$e.b},props:{media:{type:Object,required:!0}},computed:{classes(){return{"vf-thumbnail":!0,"vf-video-processing":this.isLoading}},width(){return this.isVideo?this.media.width:this.isPicture?(this.media.s||this.media.t).x:0},height(){return this.isVideo?this.media.height:this.isPicture?(this.media.s||this.media.t).y:0},vfImageData(){return{src:this.thumbnail,originalWidth:this.width,originalHeight:this.height,cropShape:$e.a.SQUARE,class:this.classes}},isLoading(){return this.isVideo&&"in_progress"===this.media.processing_status},isPicture(){return"imagefile"===this.media.type},isVideo(){return"videofile"===this.media.type},thumbnail(){return this.isPicture?this.media.s&&this.media.s.url||this.media.t.url:this.isVideo&&this.media.thumbs_status?this.media.thumbs.small:null}},template:zs.a}),Ws=T.default.extend({components:{vfMediaThumbnail:Js},props:{media:{type:Array,default:()=>[]},maxMedia:{type:Number,default:4}},computed:{classes(){return{"vf-media-gallery":!0,["vf-media-gallery-".concat(this.maxMedia)]:!0}},visibleMedia(){return this.media.length<=this.maxMedia?this.media:this.media.slice(0,this.maxMedia)}},methods:{count(t){return t<this.maxMedia-1?0:this.media.length-this.maxMedia}},template:Hs.a});s(125);function Ys(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Zs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ys(Object(s),!0).forEach((function(e){Xs(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ys(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Xs(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Qs,ti,ei,si,ii,ri={props:["action","name"],computed:Zs(Zs({},Object(d.c)({getRelativeTime:r.xc})),{},{comment(){return this.action},page(){var t=this.comment.content_uuid;return this.$store.getters[r.tc]({uuid:t})},originTitle(){return this.comment.metadata?this.comment.metadata.origin_title:this.page.title},status(){return this.comment.processing_status},deepLinkedUrl(){var t,e,s,i=(t=this.comment.metadata,e=this.page,t?t.origin_url:e.url),r=encodeURIComponent((s=this.comment).metadata?"vf-".concat(s.content_uuid):"vf-".concat(Object(ot.h)(s.uuid)));try{var n=new URL(i);return n.hash=r,n.href}catch(t){return"".concat(i,"#").concat(r)}},title(){var t="review"===this.comment.type?"review":"comment";return 0===this.name.length?this.$i18n("profile.user_actions.comment.".concat(t,".self")):this.$i18n("profile.user_actions.comment.".concat(t,".other"),{name:this.name})},hasMedia(){return Boolean(this.comment.media)},media(){return this.comment.media?this.comment.media:[]},text(){return Object(st.b)(this.comment.content,100)},getActivityAlertType(){return"removed"===this.status||"disabled"===this.status?this.status:!!this.isContentMissing&&"missing"},isContentMissing(){return"image"===this.comment.type&&!(this.comment.picture||this.media)||"video"===this.comment.type&&!(this.comment.video||this.media)},timestamp(){return this.comment.date_created}}),components:{vfRecord:Le,vfActivityContentAlert:Rs,vfMediaGallery:Ws,vfTimestamp:Ct.a}},ni={components:{vfActivity:Object(j.a)(ri,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("vf-record",{staticClass:"profile",attrs:{tag:"a",href:t.deepLinkedUrl},scopedSlots:t._u([{key:"content",fn:function(){return[s("p",{staticClass:"vf-secondary-text-colour"},[t._v("\n                "+t._s(t.title)+"\n                "),s("em",{staticClass:"vf-article-title vf-primary-colour"},[t._v("\n                    "+t._s(t.originTitle)+":\n                ")]),t._v(" "),t.getActivityAlertType?s("vf-activity-content-alert",{attrs:{type:t.getActivityAlertType,name:t.name}}):t._e()],1),t._v(" "),t.text.length>0?s("p",{staticClass:"vf-secondary-text-colour"},[t._v('\n                "'+t._s(t.text)+'"\n            ')]):t._e(),t._v(" "),s("vf-media-gallery",{attrs:{media:t.media}})]},proxy:!0},{key:"timestamp",fn:function(){return[s("vf-timestamp",{attrs:{timestamp:t.timestamp}})]},proxy:!0}])})],1)}),[],!1,null,null,null).exports},props:{user:{type:Object,required:!0},isCurrentUser:{type:Boolean,required:!0}},computed:{name(){return this.isCurrentUser?"":this.user.name},comments(){return this.$store.getters[r.n](this.user.uuid)},emptyMessage(){return this.isCurrentUser?this.$i18n("profile.user_actions.comment.none.self"):this.$i18n("profile.user_actions.comment.none.other",{name:this.user.name})}}},ai=Object(j.a)(ni,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"vf-activity-list"},[s("h3",{staticClass:"vf-offscreen-text",attrs:{id:"vf-tray__comment_history"}},[t._v("\n        "+t._s(t.$i18n("profile.user_actions.comment_history"))+"\n    ")]),t._v(" "),t.comments.length>0?s("ol",{attrs:{"aria-labelledby":"vf-tray__comment_history"}},t._l(t.comments,(function(e){return s("vf-activity",{key:e.uuid||e.content_uuid,staticClass:"vf-activity-list__list-item",attrs:{action:e,name:t.name}})})),1):s("p",{staticClass:"vf-none vf-activity-list--empty"},[t._v("\n        "+t._s(t.emptyMessage)+"\n    ")])])}),[],!1,null,null,null).exports,oi=s(1112),ci=s.n(oi),li=s(753),ui=s(1292),fi={template:ci.a,extends:_s,props:["user"],data:()=>({expanded:!1}),methods:{onExpandCollapse(){this.expanded=!this.expanded}},computed:{title(){return this.$i18n("profile.id_container_title")},footerText(){return this.$i18n("profile.id_container_footer_text")},columns:()=>[{header:"",field:"idType",isRowHeader:!0},{header:"",field:"idValue"}],rows(){var t={idType:{value:this.$i18n("profile.viafoura_id")},idValue:{value:this.viafouraId}},e=this.thirdPartyId,s={idType:{value:this.$i18n("profile.third_party_id")},idValue:{value:e}};return e?[t,s]:[t]},viafouraId(){return this.user?this.user.id:null},thirdPartyId(){return this.user?this.user.social_login_id:null},a11yDescription(){return this.$i18n("profile.user_details_button_description")}},components:{vfContainer:li.a,vfTable:ui.a}},di=_s.extend({template:cs.a,props:["tabOptions"],data:()=>({isProfileActivityReady:!1}),mounted(){var t=this,e=this.tabOptions.user_uuid;return this.uuid=e,Object(es.n)(this.$store).then((function(){return t.isProfileActivityReady=!0,t.fetchAllForUser(e)})).catch((function(t){}))},computed:{user(){var t=this.tabOptions.user_uuid;return this.$store.getters[r.kd](t)},isCurrentUser(){return this.user.uuid===this.$store.getters[r.jb]},isVisibleToCurrentUser(){return this.$store.getters[r.Tb]}},methods:{fetchAllForUser(t){return Promise.all([this.$store.dispatch(i.Ab,t),this.$store.dispatch(i.Y,{uuid:t}),this.$store.dispatch(i.fb,t),this.$store.dispatch(i.Cb,{user_uuid:t}),this.$store.dispatch(i.Bb,{user_uuid:t})])}},watch:{user(t){var e=t.uuid;return e===this.uuid?Promise.resolve():(this.uuid=e,this.fetchAllForUser(e))}},components:{vfProfileHeader:bs,vfProfileOverview:Ls,vfProfileActivity:ai,vfProfileUserDetails:fi}}),pi=s(258),hi=s(659),vi={props:{avatarUser:h.a.object,isSkeleton:h.a.bool.def(!1),timestamp:h.a.integer.required,timestampDescriptor:h.a.string},computed:{avatarProps(){return{user:this.avatarUser||{},current_user_uuid:this.$store.getters[r.jb],size:hi.a.MEDIUM,isClickable:!this.isSkeleton}}},methods:{onAvatarClick(){this.isSkeleton||Object(K.c)(this.avatarUser)||this.$publish(a.D.CHANNEL,a.D.EVENTS.CHANGE,f.c.PROFILE,{user_uuid:this.avatarUser.uuid})}},components:{vfAvatar:Ot.a,vfTimestamp:Ct.a,vfRecord:Le}},mi=Object(j.a)(vi,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vf-record",{staticClass:"community",scopedSlots:t._u([{key:"identifier",fn:function(){return[s("div",{staticClass:"community__loading-identifier",class:{"community__loading-identifier--skeleton":t.isSkeleton}},[t.isSkeleton?t._e():t._t("identifier",[t.avatarUser?s("vf-avatar",t._b({staticClass:"community__identifier--user",nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onAvatarClick(e)}}},"vf-avatar",t.avatarProps,!1)):t._e()])],2)]},proxy:!0},{key:"content",fn:function(){return[t.isSkeleton?s("div",{staticClass:"title__loading title"},[t._v("\n            "+t._s(t.$i18n("aria.loading_data"))+"\n        ")]):t._t("content")]},proxy:!0},{key:"timestamp",fn:function(){return[s("vf-timestamp",{class:{"community__timestamp--loading":t.isSkeleton},attrs:{timestamp:t.timestamp,descriptor:t.timestampDescriptor}})]},proxy:!0},{key:"action",fn:function(){return[t._t("action")]},proxy:!0}],null,!0)})}),[],!1,null,"435319e6",null).exports,gi=function(t,e,s){var i=Object(it.a)((function(){return t.getters[r.kd](e)})),n=Object(it.d)({isLoading:!0,user:i});return Object(it.c)((function(){i.value?n.isLoading=!1:bi(t,e).then((function(){var t;return null!==(t=i.value)&&void 0!==t&&t.name?(n.isLoading=!1,null):Promise.reject()})).catch((function(){t.dispatch(s,e)}))})),n},bi=function(t,e){return t.dispatch(i.Ab,e)},_i={components:{followUserButton:ae,baseCommunityItem:mi},props:{userUuid:h.a.uuid,timestamp:h.a.integer.required},setup(t,e){var s=t.userUuid,r=e.parent.$store;return{deferredUser:gi(r,s,i.zc),TRAY_COMMUNITY_FOLLOWING_UNFOLLOW:o.G}}},yi=Object(j.a)(_i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("base-community-item",{attrs:{"avatar-user":t.deferredUser.user,"is-skeleton":t.deferredUser.isLoading,timestamp:t.timestamp,"timestamp-descriptor":t.$i18n("community.following.getDate")},scopedSlots:t._u([{key:"content",fn:function(){return[s("p",{staticClass:"vf-secondary-text-colour title"},[s("span",[t._v(t._s(t.deferredUser.user&&t.deferredUser.user.name))])])]},proxy:!0},{key:"action",fn:function(){return[t.deferredUser.isLoading?t._e():s("follow-user-button",{attrs:{"target-user-uuid":t.deferredUser.user&&t.deferredUser.user.uuid,"analytics-action":t.TRAY_COMMUNITY_FOLLOWING_UNFOLLOW},on:{click:function(e){return t.$emit("unfollow")}}})]},proxy:!0}])})}),[],!1,null,null,null).exports,wi=s(765),Oi={components:{pillBadge:wi.a,vfAuthorIcon:me.a,followButton:ee.a,baseCommunityItem:mi},inject:[mt.a],props:{model:h.a.object.isRequired},methods:{onDismissClick(){this.$emit("unfollow"),this.canUnfollow=!1,window.vf.topics.unsubscribe(this.model.uuid,this.$store)}}},Ci=Object(j.a)(Oi,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("base-community-item",{attrs:{timestamp:t.model.timestamp,"timestamp-descriptor":t.$i18n("community.following.getDate")},scopedSlots:t._u([{key:"identifier",fn:function(){return[s("vf-author-icon",{staticClass:"community__identifier--author vf-image-small"})]},proxy:!0},{key:"content",fn:function(){return[s("p",{staticClass:"vf-secondary-text-colour title"},[s("span",[t._v(t._s(t.model.title))]),t._v(" "),s("pill-badge",{staticClass:"vf-following-item__badge",attrs:{palette:t.PALETTES.DARK_PRIMARY}},[t._v("\n                "+t._s(t.$i18n("badges.author_owner"))+"\n            ")])],1)]},proxy:!0},{key:"action",fn:function(){return[s("follow-button",{attrs:{"is-following":"","unfollow-text":t.$i18n("user_actions.unfollow"),"is-following-text":t.$i18n("user_actions.following"),"is-following-aria":t.$i18n("tray.user_actions.author_unfollow_aria_label"),"is-not-following-text":t.$i18n("user_actions.follow"),"is-not-following-aria":t.$i18n("tray.user_actions.author_follow_aria_label")},on:{click:t.onDismissClick}})]},proxy:!0}])})}),[],!1,null,"3966c610",null).exports,Ei={components:{pillBadge:wi.a,vfTopicIcon:ve,followButton:ee.a,baseCommunityItem:mi},inject:[mt.a],props:{model:h.a.object.isRequired},methods:{onDismissClick(){this.$emit("unfollow"),this.canUnfollow=!1,window.vf.topics.unsubscribe(this.model.uuid,this.$store)}}},ji={components:{followingUser:yi,followingAuthor:Ci,followingTopic:Object(j.a)(Ei,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("base-community-item",{staticClass:"vf-client--topic",attrs:{timestamp:t.model.timestamp,"timestamp-descriptor":t.$i18n("community.following.getDate")},scopedSlots:t._u([{key:"identifier",fn:function(){return[s("vf-topic-icon",{staticClass:"community__identifier--topic vf-image-small"})]},proxy:!0},{key:"content",fn:function(){return[s("p",{staticClass:"vf-secondary-text-colour title"},[s("span",[t._v(t._s(t.model.title))]),t._v(" "),s("pill-badge",{staticClass:"vf-following-item__badge",attrs:{palette:t.PALETTES.DARK_PRIMARY}},[t._v("\n                "+t._s(t.$i18n("badges.topic"))+"\n            ")])],1)]},proxy:!0},{key:"action",fn:function(){return[s("follow-button",{attrs:{"is-following":"","unfollow-text":t.$i18n("user_actions.unfollow"),"is-following-text":t.$i18n("user_actions.following"),"is-following-aria":t.$i18n("tray.user_actions.topic_unfollow_aria_label",{topic:t.model.title}),"is-not-following-text":t.$i18n("user_actions.follow"),"is-not-following-aria":t.$i18n("tray.user_actions.topic_follow_aria_label",{topic:t.model.title})},on:{click:t.onDismissClick}})]},proxy:!0}])})}),[],!1,null,"308e44c4",null).exports},props:{model:h.a.object.isRequired},computed:{isUser(){return this.model.type===pi.a.USER},isAuthor(){return"author"===this.model.type}}},$i=Object(j.a)(ji,(function(){var t=this.$createElement,e=this._self._c||t;return this.isUser?e("following-user",{attrs:{"user-uuid":this.model.uuid,timestamp:this.model.timestamp}}):this.isAuthor?e("following-author",{attrs:{model:this.model}}):e("following-topic",{attrs:{model:this.model}})}),[],!1,null,null,null).exports,xi={components:{followUserButton:ae,baseCommunityItem:mi},props:{model:h.a.object.isRequired},setup(t,e){var s=t.model,r=e.parent.$store;return{deferredUser:gi(r,s.user_uuid,i.Ac),TRAY_COMMUNITY_FOLLOWERS_FOLLOW:o.F}}},Si=Object(j.a)(xi,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("base-community-item",{attrs:{"avatar-user":t.deferredUser.user,"is-skeleton":t.deferredUser.isLoading,timestamp:t.model.date_following,"timestamp-descriptor":t.$i18n("community.followers.getDate")},scopedSlots:t._u([{key:"content",fn:function(){return[s("p",{staticClass:"vf-secondary-text-colour title"},[s("span",[t._v(t._s(t.deferredUser.user&&t.deferredUser.user.name))])])]},proxy:!0},{key:"action",fn:function(){return[t.deferredUser.isLoading?t._e():s("follow-user-button",{attrs:{"target-user-uuid":t.deferredUser.user&&t.deferredUser.user.uuid,"analytics-action":t.TRAY_COMMUNITY_FOLLOWERS_FOLLOW}})]},proxy:!0}])})}),[],!1,null,null,null).exports,Ti={components:{vfButton:R.a},props:["model"],computed:{textKey:()=>"",classes:()=>({})}},Pi=Object(j.a)(Ti,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("vf-button",{staticClass:"vf-label vf-label-upper vf-tray-action-button",attrs:{"is-cta":"","is-inverted":"",size:"tiny",palette:"accent"},nativeOn:{click:function(e){return t.onClick(e)}}},[t._v("\n    "+t._s(t.$i18n(t.textKey))+"\n")])}),[],!1,null,null,null).exports,Ni={extends:Pi,computed:{user(){return this.$store.getters[r.kd](this.model.uuid)},textKey(){return"user_actions.".concat(this.action)}},methods:{onClick(){var t=this,e=this.$store.getters[r.jb],s={follow:i.Hb,unfollow:i.ld,mute:i.ec,unmute:i.pd};return this.$store.dispatch(s[this.action],{uuid:this.user.uuid}).catch((function(){var s=te(F.REJECTED,"feed.alerts.".concat(t.action));t.$store.commit(n.u,{key:e,items:[s]})}))}}},ki={extends:Ni,computed:{isFollowed(){return Boolean(this.$store.getters[r.yb](this.user.uuid))},action(){return this.isFollowed?"unfollow":"follow"},classes(){return{"vf-complement-bg-colour":this.isFollowed,"vf-complement-colour":this.isFollowed}}}},Ui={extends:Ni,computed:{isMuted(){return Boolean(this.user.is_muted)},action(){return this.isMuted?"unmute":"mute"},classes(){return{"vf-primary-bg-colour":this.isMuted,"vf-complement-bg-colour":!this.isMuted,"vf-complement-colour":!0}}}},Ii={components:{vfAvatar:Ot.a,vfTimestamp:Ct.a,vfRecord:Le},props:{model:{type:Object,required:!0}},computed:{descriptor:()=>null,avatarProps(){return{user:this.model,current_user_uuid:this.$store.getters[r.jb],size:hi.a.MEDIUM,isClickable:!0}}},methods:{toggleOtherUserProfile(){Object(K.c)(this.model)||this.$publish(a.D.CHANNEL,a.D.EVENTS.CHANGE,f.c.PROFILE,{user_uuid:this.model.uuid})}}},Ai=Object(j.a)(Ii,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vf-record",{staticClass:"community",scopedSlots:t._u([{key:"identifier",fn:function(){return[s("vf-avatar",t._b({nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleOtherUserProfile(e)}}},"vf-avatar",t.avatarProps,!1))]},proxy:!0},{key:"content",fn:function(){return[s("p",{staticClass:"vf-secondary-text-colour"},[t._v("\n            "+t._s(t.model.name)+"\n        ")])]},proxy:!0},{key:"timestamp",fn:function(){return[s("vf-timestamp",{attrs:{timestamp:t.timestamp,descriptor:t.descriptor}})]},proxy:!0},{key:"action",fn:function(){return[s("vf-community-action-button",{staticClass:"vf-community-action",attrs:{model:t.model}})]},proxy:!0}])})}),[],!1,null,null,null).exports,Li=function(t,e,s){return{extends:Ai,computed:{descriptor(){return this.$i18n(t)},timestamp(){return this.model[e]}},components:{"vf-community-action-button":s}}},Di={components:{following:$i,followers:Si,muted:Li("community.muted.getDate","date_muted",Ui),suggestions:Li("community.suggestions.getDate","date",ki)},props:["items","tab"],computed:{models(){return"following"===this.tab||"followers"===this.tab?this.items:this.$store.getters[r.Kb](this.items)}},methods:{focusNearest(t){var e=this.$refs.items[t-1];e?e.$el.querySelector(".vf-dismiss").focus():this.$emit("focus-current-tab")}}},Mi=Object(j.a)(Di,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",t._l(t.models,(function(e,i){return s("li",{key:e.uuid},[s(t.tab,{ref:"items",refInFor:!0,tag:"component",attrs:{model:e,tabindex:"0"},on:{unfollow:function(e){return t.focusNearest(i)}}})],1)})),0)}),[],!1,null,null,null).exports,Fi={components:{"vf-community-items":Mi,vfRecord:Le},extends:_s,props:["suggestions"]},Ri=Object(j.a)(Fi,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vf-community-suggestions"},[s("div",{staticClass:"vf-header-box"},[s("p",{staticClass:"vf-label"},[t._v("\n            "+t._s(t.$i18n("community.following_description"))+"\n        ")]),t._v(" "),s("p",{staticClass:"vf-label"},[t._v("\n            "+t._s(t.$i18n("community.suggest_follow"))+"\n        ")])]),t._v(" "),s("vf-record",{staticClass:"community",scopedSlots:t._u([{key:"identifier",fn:function(){return[s("div",{staticClass:"vf-tray-section-header vf-label vf-label-upper"},[t._v("\n                "+t._s(t.$i18n("community.suggestion_header"))+"\n            ")])]},proxy:!0}])}),t._v(" "),s("vf-community-items",{attrs:{tab:"suggestions",items:t.suggestions}})],1)}),[],!1,null,null,null).exports,Bi="followers",Hi="following",Vi="muted",zi={components:{"vf-feed-alert-approved":q.approved,"vf-feed-alert-rejected":q.rejected,"vf-feed-alert-information":q.information,"vf-community-items":Mi,"vf-community-suggestions":Ri,vfTabbedNavigation:_.a},extends:_s,inject:["settings"],data(){var t=this.$user(),e=this.settings.enable_muting&&!Object(b.I)(t),s=!this.settings.disable_email_notifications;return{user:t,showMutes:e,showFollows:s,communityTab:!s&&e?Vi:Bi}},computed:{alerts(){var t=this.$store.getters[r.jb];return this.$store.getters[r.dd](t)},showTopList(){return this.communityTab===Hi&&0===this.followees.length&&this.topUsers.length>0&&this.showFollows},followees(){return this.$store.getters[r.pb]},followers(){return this.$store.getters[r.tb]},muted(){return this.$store.getters[r.nc](this.$store.getters[r.jb])},topUsers(){return this.$store.getters[r.ad]({uuid:this.$store.getters[r.jb]})},showCommunity(){return this.headers.length>0},headers(){var t=this,e=this.showFollows?[Hi,Bi]:[],s=this.showMutes?[Vi]:[];return e.concat(s).map((function(e){var s=t.getCountForTab(e);return{count:s,name:e,i18nKey:"community.".concat(e,".header"),classes:[e],ariaLabel:t.$i18n("community.".concat(e,".headerAriaLabel"),{num:s})}}))},communityList(){return this.mapTabToList(this.communityTab)},showEmpty(){return this.communityTab===Hi?0===this.followees.length&&0===this.topUsers.length:0===this.$store.getters[r.Kb](this.communityList).length}},mounted(){this.$subscribe("community-tab","change",this.changeTab),this.showMutes&&this.$store.dispatch(i.nb,{uuid:this.user.uuid}).catch((function(){})),this.showFollows&&(this.$store.dispatch(i.gb).catch((function(){})),this.$store.dispatch(i.eb).catch((function(){}))),this.$store.dispatch(i.xb).catch((function(){}))},methods:{focusCurrentTab(){this.$el.querySelector(".vf-tabbed-nav .vf-active").focus()},getEmptyCommunityTabText:t=>"community.".concat(t,".empty"),getAlertComponentName:t=>"vf-feed-alert-".concat(t),changeTab(t){this.communityTab=t},getClasses(t){var e=t===this.communityTab;return{active:e,"vf-primary-text-colour vf-primary-bg-colour ":e,"vf-secondary-bg-colour vf-secondary-text-colour":!e}},mapTabToList(t){switch(t){case Hi:return this.followees;case Bi:return this.followers;case Vi:return this.muted;default:return[]}},getCountForTab(t){switch(t){case Hi:return this.$store.getters[r.pb].length;case Bi:return this.followers.length;case Vi:return this.muted.length;default:return 0}}}},qi=Object(j.a)(zi,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vf-community-content"},[s("section",{staticClass:"vf-notification-alert-section",attrs:{role:"alert"}},[s("ol",{staticClass:"vf-vert-list"},t._l(t.alerts,(function(e){return s(t.getAlertComponentName(e.status),{key:e.key,tag:"component",attrs:{alert:e}})})),1)]),t._v(" "),s("vf-tabbed-navigation",{staticClass:"vf-tabbed-subnav",attrs:{tabs:t.headers,"initial-tab":t.communityTab,"nav-label":t.$i18n("tray.community.aria.header"),"full-width-nav":""},on:{"tab-to":t.changeTab},scopedSlots:t._u([{key:"button",fn:function(e){var i=e.tab;return[s("span",{staticClass:"vf-nav-label"},[t._v("\n                "+t._s(i.count)+" "+t._s(t.$i18n(i.i18nKey,{count:i.count}))+"\n            ")])]}},{key:t.communityTab,fn:function(){return[t.showTopList?s("vf-community-suggestions",{attrs:{suggestions:t.topUsers}}):t._e(),t._v(" "),t.showEmpty?s("div",{staticClass:"vf-none"},[t._v("\n                "+t._s(t.$i18n(t.getEmptyCommunityTabText(t.communityTab)))+"\n            ")]):s("vf-community-items",{attrs:{tab:t.communityTab,items:t.communityList},on:{"focus-current-tab":t.focusCurrentTab}})]},proxy:!0}],null,!0)},[t._v(" "),t._v(" "),t.showCommunity?t._e():s("p",{staticClass:"vf-none"},[t._v("\n            "+t._s(t.$i18n("community.empty"))+"\n        ")])])],1)}),[],!1,null,null,null).exports,Gi=s(1115),Ki=s.n(Gi),Ji=s(267),Wi=s(957),Yi=s(70),Zi=(s(102),s(1119)),Xi=s.n(Zi),Qi=s(668),tr="push_unsupported",er="push_blocked",sr="must_enable_push",ir="other_error",rr="no_error",nr={[tr]:{messageKey:"settings.controls.browser_notification_unsupported",hasLink:!1,type:Qi.a.WARNING},[sr]:{messageKey:"settings.controls.browser_notification_enable",hasLink:!0,type:Qi.a.WARNING},[er]:{messageKey:"settings.controls.browser_notification_blocked",hasLink:!0,type:Qi.a.ERROR},[ir]:{messageKey:"settings.controls.browser_notification_error",hasLink:!1,type:Qi.a.ERROR},[rr]:{}},ar=s(742),or=s(1120),cr=s.n(or),lr=s(1121),ur=s.n(lr),fr=s(670),dr=(Qs=p.f,ti=p.e,ei=p.h,si=Ze.d,ii=Ze.c,function(t,e){var s=Qs()||ti();if(t&&s){if(!ei())return tr;if(!si())return ii()?er:sr}return e?ir:rr});function pr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function hr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(s),!0).forEach((function(e){vr(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):pr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function vr(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var mr=T.default.extend({data(){var t=this.$store.getters[r.hb];return{isEmailNotificationChecked:Boolean(t.email_notice_frequency),isEmailNotificationProcessing:!1,browserNotificationMessage:{},browserIcon:cr.a,emailIcon:ur.a,text:{header:this.$i18n("settings.update.notifications")},hasSubscribeError:!1}},mounted(){var t=this;this.updateBrowserNotificationMessage(),this.$subscribe("push","update-permission",(function(){t.updateBrowserNotificationMessage(!1)})),this.$subscribe("push","subscribe-error",(function(){t.updateBrowserNotificationMessage(!0)})),this.$subscribe("push","subscribed",this.updateBrowserNotificationMessage),this.$subscribe("push","unsubscribed",this.updateBrowserNotificationMessage)},template:Xi.a,computed:hr(hr({},Object(d.c)({user:r.hb,settings:r.Jc,isSVODEnabled:r.Sc})),{},{pushState(){return this.$store.getters[r.wc](this.user.uuid)},canUpdateBrowserNotifications(){return!(!this.settings.enable_push_notifications||!Object(p.h)())&&!!(Object(p.f)()||Object(p.e)()||this.settings.client_opt_in_url)},showHeader(){return this.canUpdateBrowserNotifications||this.canUpdateEmailNotifications},canUpdateEmailNotifications(){return!this.settings.disable_email_notifications&&this.isLoggedIn&&!this.isSocial},isBrowserNotificationChecked(){return Object(Ze.a)(this.pushState)},isBrowserNotificationProcessing(){return Object(Ze.b)(this.pushState)},isEmailNotificationCheckedAria(){return JSON.stringify(this.isEmailNotificationChecked)},isBrowserNotificationCheckedAria(){return JSON.stringify(Object(Ze.a)(this.pushState))},isLoggedIn(){return Object(b.H)(this.user)},isSocial(){return Object(b.N)(this.user)},browserNotificationsSetting(){return{name:"browser_notifications",value:this.isBrowserNotificationChecked,indeterminate:this.isBrowserNotificationProcessing}},updateEmailNotificationsSetting(){return{name:"email_notifications",value:this.isEmailNotificationChecked,indeterminate:this.isEmailNotificationProcessing}}}),methods:{updateBrowserNotificationMessage(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=dr(this.isBrowserNotificationChecked,t);this.browserNotificationMessage=nr[e]},toggleEmailNotifications(){var t=this;this.isEmailNotificationProcessing=!0,this.isEmailNotificationChecked=!this.isEmailNotificationChecked;var e=this.isEmailNotificationChecked?"immediately":"never";this.$emit("toggle","email_notifications",e,(function(){setTimeout((function(){t.isEmailNotificationProcessing=!1}),300)}))},toggleBrowserNotifications(){var t=Object(Ze.a)(this.pushState)?"unsubscribe":"subscribe";this.$publish("push",t)},onErrorLinkClick(){switch(dr(this.isBrowserNotificationChecked,!1)){case er:this.$publish("window","redirect","https://documentation.viafoura.com/docs/how-to-re-enable-browser-based-push-notifications/",!0);break;case sr:this.$publish("push","subscribe")}}},components:{vfToggleInput:ar.a,vfStatusMessage:fr.a}}),gr={extends:Pi,computed:{textKey:()=>"settings.file.choose_file"},methods:{onClick(){this.$emit("choose-file")}}},br=s(49),_r={components:{vfSettingsButton:gr,vfAvatar:Ot.a},props:{user:{required:!0}},computed:{avatarProps(){return{user:this.user,current_user_uuid:this.$user().uuid,size:hi.a.LARGE,isClickable:!0}}},methods:{onFileChange(t){this.file=t.currentTarget.value,this.loadAvatarFile()},getFileInput(){return Object(br.a)(".vf-avatar-file",this.$el)},chooseFile(){var t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});this.getFileInput().dispatchEvent(t)},validateFile:t=>null==t?"":t.size>1e6?"settings.error.file_too_big":t.type.includes("image")?"":"settings.error.file_wrong_type",loadAvatarFile(){var t=this.getFileInput().files[0],e=this.validateFile(t);e?this.$emit("avatar-message","error",e):this.readImageFileIntoAvatar(t)},readImageFileIntoAvatar(t){if(t){var e=new FileReader;e.onload=function(){this.tryUpdateAvatar(e.result)}.bind(this),e.readAsDataURL(t)}},tryUpdateAvatar(){var t=this;this.$emit("clear-messages");var e=this.getFileInput();if(!(e.files.length<1)){var s=e.files[0];this.$store.dispatch(i.vd,{uuid:this.user.uuid,file:s}).then((function(e){if(e.error)throw e;t.$emit("avatar-message","success","settings.avatar_success"),t.$publish("context","load","user",e)})).catch((function(e){t.$emit("avatar-api-error",e)}))}},setDefaultAvatar(){var t=this;this.$store.dispatch(i.f,{uuid:this.user.uuid}).then((function(e){t.$publish("context","load","user",e)}))}}},yr=Object(j.a)(_r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"vf-avatar-update vf-flex-container vf-client-settings-avatar-section",attrs:{role:"group"}},[s("vf-avatar",t._b({staticClass:"vf-client-settings-avatar-image",nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.chooseFile(e)}}},"vf-avatar",t.avatarProps,!1)),t._v(" "),s("div",{staticClass:"vf-avatar-file-wrapper vf-client-settings-avatar-wrapper",attrs:{role:"group"}},[s("vf-settings-button",{staticClass:"vf-label vf-avatar-file-btn",on:{"choose-file":t.chooseFile}}),t._v(" "),s("input",{staticClass:"vf-avatar-file vf-secondary-border-colour",attrs:{id:"vf-avatar-file",type:"file",name:"avatar"},on:{change:function(e){return e.stopPropagation(),t.onFileChange(e)}}}),t._v(" "),s("p",{staticClass:"vf-client-settings-avatar-max-size"},[t._v("\n            "+t._s(t.$i18n("settings.file.max_size"))+"\n        ")]),t._v(" "),s("p",{staticClass:"vf-client-settings-avatar-supported-types"},[t._v("\n            "+t._s(t.$i18n("settings.file.supported_types"))+"\n        ")]),t._v(" "),s("a",{staticClass:"vf-primary-hoverable vf-client-settings-avatar-use-default",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.setDefaultAvatar(e)}}},[t._v("\n            "+t._s(t.$i18n("settings.file.use_default"))+"\n        ")])],1)],1)}),[],!1,null,null,null).exports,wr=s(894),Or=s(657),Cr={components:{vfButton:R.a,vfStatus:wr.a,loaderButton:Or.a},props:{messages:{default:function(){return[]}},canUpdateProfile:{type:Boolean,default:!1},status:{type:String,required:!0}},computed:{uniqueMessages(){var t=[],e={};return this.messages.forEach((function(s){e[s[1]]||(t.push(s),e[s[1]]=!0)})),t}},methods:{logout(){this.$emit("logout-clicked")}}},Er=Object(j.a)(Cr,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"vf-settings-controls vf-flex-vert vf-vert-spaced vf-client-settings-button-section",attrs:{role:"group"}},[t.canUpdateProfile?s("loader-button",{staticClass:"vf-client-settings-button-update-profile",attrs:{"is-cta":"",palette:"accent",size:"medium",status:t.status},nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("try-update-profile")}}},[t._v("\n        "+t._s(t.$i18n("settings.controls.update_profile"))+"\n    ")]):t._e(),t._v(" "),s("vf-button",{staticClass:"vf-client-settings-button-logout",attrs:{"is-cta":"",palette:"danger"},nativeOn:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[t._v("\n        "+t._s(t.$i18n("settings.controls.logout"))+"\n    ")]),t._v(" "),t._l(t.uniqueMessages,(function(t){return s("vf-status",{key:t[1],attrs:{level:t[0],text:t[1]}})}))],2)}),[],!1,null,null,null).exports,jr=s(717),$r={components:{vfTextInput:jr.a}},xr=Object(j.a)($r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",{staticClass:"vf-vert-spaced vf-client-settings-form-password vf-setting-module"},[s("h1",{staticClass:"vf-client-settings-form-password-header vf-label vf-label-upper vf-setting-module__title"},[t._v("\n        "+t._s(t.$i18n("settings.update.password"))+"\n    ")]),t._v(" "),s("div",{staticClass:"vf-setting"},[s("vf-text-input",{staticClass:"vf-client-settings-form-password-field-password",attrs:{id:"vf-update-password",setting:{type:"password",name:"vf-update-password"},description:t.$i18n("settings.placeholders.new_password")},on:{input:function(e){return t.$emit("password-input",e)}}})],1),t._v(" "),s("div",{staticClass:"vf-setting"},[s("vf-text-input",{staticClass:"vf-client-settings-form-password-field-verify-password",attrs:{setting:{type:"password",name:"vf-update-password-verify"},description:t.$i18n("settings.placeholders.reenter_password")},on:{input:function(e){return t.$emit("password-verify-input",e)}}})],1)])}),[],!1,null,null,null).exports,Sr={components:{vfTextInput:jr.a}},Tr=Object(j.a)(Sr,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",{staticClass:"vf-vert-spaced vf-setting-module"},[s("h1",{staticClass:"vf-label vf-label-upper vf-setting-module__title"},[t._v("\n        "+t._s(t.$i18n("settings.update.credentials"))+"\n    ")]),t._v(" "),s("div",{staticClass:"vf-setting"},[s("vf-text-input",{attrs:{id:"vf-current-password",setting:{type:"password",name:"vf-current-password"},description:t.$i18n("settings.placeholders.current_password")},on:{input:function(e){return t.$emit("password-input",e)}}})],1)])}),[],!1,null,null,null).exports,Pr=s(845);function Nr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function kr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Nr(Object(s),!0).forEach((function(e){Ur(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Nr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Ur(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Ir=_s.extend({template:Ki.a,data(){var t=this.$store.getters[r.hb];return{update_password:"",update_password_verify:"",current_password:"",messages:[],placeholders:{display_name:this.$i18n("settings.placeholders.display_name"),email:this.$i18n("settings.placeholders.email")},status:Ji.a.NONE,values:{name:t.username_pending||t.name,email:t.email}}},mounted(){this.$subscribe("push","subscribed",this.onPushUpdated),this.$subscribe("push","unsubscribed",this.onPushUpdated)},computed:kr(kr({},Object(d.c)({user:r.hb,settings:r.Jc})),{},{isPasswordNeeded(){return Boolean(this.values.email&&this.values.email!==this.user.email||this.update_password)},isSocial(){return Boolean(this.user.social_login_provider&&!Object(b.P)(this.user))},isThirdParty(){return Boolean(this.user.social_login_id)},canUpdateAvatar(){return!(this.settings.disable_cookie_avatars||this.isSocial&&this.user.social_login_provider!==Yi.e&&this.user.social_login_provider!==Yi.f)},canUpdateName(){return!this.settings.disable_cookie_displayname&&!this.isThirdParty},canUpdateEmail(){return!this.isThirdParty},isLoggedIn(){return Object(b.H)(this.user)},canUpdatePassword(){return this.isLoggedIn&&!this.isThirdParty},showCurrentPassword(){return!this.isThirdParty&&this.isPasswordNeeded},baseSchema(){return[{component:Wi.a.TEXT_INPUT,key:"name",name:"name",label:this.placeholders.display_name,type:"text",test:this.canUpdateName},{component:Wi.a.TEXT_INPUT,key:"email",name:"email",label:this.placeholders.email,type:"email",test:this.canUpdateEmail}].filter((function(t){return!0===t.test}))},canUpdateProfile(){return!this.isSocial&&this.baseSchema.length>0&&this.isLoggedIn}}),created(){var t=this;this.$subscribe(a.c.CHANNEL,a.c.EVENTS.LOGOUT_FAILURE,(function(){t.messages.push(["error",t.$i18n("settings.error.unable_to_logout")])}))},methods:{onPushUpdated(){this.messages=[["success",this.$i18n("settings.profile_success")]]},isFormEmpty(){return 0===this.values.name.length&&0===this.values.email.length&&0===this.update_password.length},isNewPasswordVerified(){return this.update_password===this.update_password_verify},validateUserUpdate(){if(this.isFormEmpty())return"settings.error.empty_form";if(this.values.email&&this.values.email!==this.user.email||this.update_password){if(0===this.current_password.length)return"settings.error.empty_current_password";if(this.update_password&&!this.isNewPasswordVerified())return"settings.error.mismatching_new_passwords"}return""},getProfileUpdates(){var t={};this.showCurrentPassword&&this.current_password&&(t.old_password=this.current_password),this.update_password&&(t.new_password=this.update_password);var e=this.values.name;e&&e!==this.user.name&&(t.name=e);var s=this.values.email;return s&&s!==this.user.email&&(t.email=s),t},tryUpdateProfile(){var t=this;if(this.clearMessages(),this.canUpdateProfile&&this.status===Ji.a.NONE){var e=this.validateUserUpdate();if(e)this.messages.push(["error",this.$i18n(e)]);else{var s=this.getProfileUpdates();Object.keys(s).length>0&&(this.status=Ji.a.PENDING,this.$store.dispatch(i.Ad,{uuid:this.user.uuid,updates:s}).then((function(e){t.status=Ji.a.NONE,t.messages.push(["success",t.$i18n("settings.profile_success")]),t.$publish("context","load","user",e)})).catch((function(e){t.status=Ji.a.NONE,t.messages.push(["error",t.$i18n(t.getErrorStatus(e))])})))}}},tryUpdateEmailNotifications(t){var e=this;this.clearMessages();var s={email_notice_frequency:t};return this.$store.dispatch(i.Ad,{uuid:this.user.uuid,updates:s}).then((function(t){if(t.error)throw t;e.messages.push(["success",e.$i18n("settings.profile_success")])}))},getErrorStatus(t){return Number.isInteger(t)?this.getErrorStatusFromCode(t):this.getErrorStatusFromObject(t)},getErrorStatusFromObject(t){switch(t.api_code){case 327681:return"settings.error.email_in_use";case 327684:return"settings.error.invalid_image_type"}if(t.validation_errors){if(t.validation_errors.email)return"settings.error.invalid_email_address";if(t.validation_errors.old_password||t.validation_errors.new_password)return"settings.error.invalid_password"}return"settings.error.unknown"},getErrorStatusFromCode(t){switch(t){case 503:return"settings.error.service_unavailable";default:return"settings.error.unknown"}},onToggle(t,e,s){switch(t){case"email_notifications":this.tryUpdateEmailNotifications(e).then(s).catch(s)}},clearMessages(){this.messages=[]},addStatusMessage(t,e){this.messages.push([t,this.$i18n(e)])},addApiError(t){this.messages.push(["error",this.$i18n(this.getErrorStatus(t))])},onLogout(){this.$publish(a.c.CHANNEL,a.c.EVENTS.LOGOUT)},updateValue(t){var e=t.key,s=t.value;this.values[e]=s}},components:{vfAvatarUpload:yr,vfSettingsControls:Er,vfToggleSettings:mr,vfUpdatePassword:xr,vfVerifyPassword:Tr,vfInputList:Pr.a}}),Ar=(s(143),s(40),s(28),s(1122)),Lr=s.n(Ar),Dr=s(45),Mr=s(775),Fr=s(80),Rr=s(76);function Br(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==s)return;var i,r,n=[],a=!0,o=!1;try{for(s=s.call(t);!(a=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Hr(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Hr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function Vr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function zr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(s),!0).forEach((function(e){qr(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Vr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function qr(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Gr={nickname:"NickName",firstname:"FirstName",lastname:"LastName",birthdate:"BirthDate",gender:"Gender",state:"State"},Kr={extends:Ir,template:Lr.a,data:function(){return{schema:[],profile:null}},created(){this.schema=this.getSchema(),this.profile=this.$store.getters[r.Qc](),this.values=this.getInitialValues()},computed:zr(zr({},Object(d.c)({isSocialUser:r.Tc})),{},{canChangePassword(){return!this.isSocialUser()},showCurrentPassword(){return this.canChangePassword},canUpdateProfile:()=>!0}),methods:{getSchema(){return this.$store.getters[r.Rc]().filter((function(t){return"password"!==t.name})).map((function(t){return{key:t.name,name:t.name,label:t.display,type:t.type,options:t.options}})).map(Mr.a)},getInitialValues(){var t=this;return this.schema.map((function(t){return t.name})).reduce((function(e,s){return zr(zr({},e),{},{[s]:t.getLRValue(s)})}),{})},getLRUpdates(){var t=this,e={};return Object.entries(this.values).forEach((function(s){var i=Br(s,2),r=i[0],n=i[1];Object(Rr.h)(n)&&t.getLRValue(r)!==n&&(e[r]=n)})),e},isFormEmpty(){return 0===this.update_password.length&&Object.values(this.values).every((function(t){return!t}))},validateUserUpdate(t){return this.isFormEmpty()?"settings.error.empty_form":this.canChangePassword&&!t.old_password?"settings.error.empty_current_password":t.new_password&&t.new_password!==this.update_password_verify?"settings.error.mismatching_new_passwords":""},tryUpdateProfile(){if(this.clearMessages(),this.status===Ji.a.NONE){var t=this.getProfileUpdates(),e=this.validateUserUpdate(t);if(e)this.messages.push(["error",this.$i18n(e)]);else{var s=this.getLRUpdates();if(s.emailid)if(this.canChangePassword)this.authenticateAndUpdateEmail(t,s);else{var i=this.$store.getters[r.Oc]();this.updateEmail(t,s,i)}var n=this.formatUpdates(s);if(n.length>0)if(this.status=Ji.a.PENDING,this.canChangePassword)this.authenticateAndUpdateProfile(t,n);else{var a=this.$store.getters[r.Oc]();this.updateProfile(t,n,a)}t.new_password&&this.updatePassword(t)}}},tryLogin(t){this.status=Ji.a.PENDING;var e=this.getEmail();return this.$store.dispatch(i.cd,{email:e,password:t}).catch(this.onSvodError)},updateEmail(t,e,s){var r=this;this.$store.dispatch(i.Lc,{email:e.emailid}).catch(this.onSvodError).then((function(){return r.setLocalStorageEmail(e.emailid)})).then((function(){return Object(Dr.l)(s)})).then(this.getSuccessHandler("email")).catch(this.onError)},authenticateAndUpdateEmail(t,e){var s=this;return this.tryLogin(t.old_password).then((function(i){var r=i.access_token;return s.updateEmail(t,e,r)}))},authenticateAndUpdateProfile(t,e){var s=this;return this.tryLogin(t.old_password).then((function(i){var r=i.access_token;return s.updateProfile(t,e,r)}))},updateProfile(t,e,s){var r=this;return this.$store.dispatch(i.dd,{access_token:s,updates:e}).catch(this.onSvodError).then((function(t){var e=t.access_token,s=t.Profile;return r.$store.commit(n.ed,s),r.profile=s,e})).then((function(t){return Object(Dr.l)(t)})).then(this.getSuccessHandler("profile")).catch(this.onError)},updatePassword(t){var e=this;return this.tryLogin(t.old_password).then((function(s){var r=s.access_token;return e.$store.dispatch(i.Mc,{oldPassword:t.old_password,newPassword:t.new_password,currentPassword:t.new_password}).catch(e.onSvodError).then((function(){return Object(Dr.l)(r)})).then(e.getSuccessHandler("password"))})).catch(this.onError)},getSuccessHandler(t){var e=this;return function(s){return e.messages.push(["success",e.$i18n("settings.".concat(t,"_success"))]),Object(Dr.c)(s).then((function(t){e.status=Ji.a.NONE,e.$publish("context","load","user",t)}))}},onError(t){this.status=Ji.a.NONE,t&&this.messages.push(["error",t||this.$i18n("settings.error.unknown")])},onSvodError(t){return this.status=Ji.a.NONE,Promise.reject(this.onError(this.getSvodError(t)))},getSvodError(t){var e;switch(t[0]&&t[0].ErrorCode){case 905:e="invalid";break;case 906:e="expired";break;case 908:e="incorrect_format";break;case 936:e="email_taken";break;case 966:e="invalid_credentials";break;default:return t[0]&&t[0].Message}return this.$i18n("svod.settings.".concat(e))},getEmail(){return this.user?Object(b.E)(this.user,this.settings)?this.user.email_pending:!this.user.email&&this.profile.Email?this.profile.Email.find((function(t){return"Primary"===t.Type})).Value||"":this.user.email||"":""},getLRValue(t){if("emailid"===t)return this.getEmail();var e;if(this.isCustomField(t)){var s=t.substring(3);e=this.profile.CustomFields&&this.profile.CustomFields[s]}else{var i=Gr[t];e=this.profile[i]}return this.isBooleanField(t)?e===(!0).toString():e},setLocalStorageEmail(t){var e=JSON.parse(window.localStorage.getItem("LoginRadiusUser"));e.Email=[{Type:"Primary",Value:t}],this.profile=e,this.$store.commit(n.ed,e)},formatUpdates(t){var e=zr({},t);return delete e.emailid,Object(Fr.d)(e)},getId:t=>"vf-update-".concat(t),isCustomField:t=>"cf_"===t.substring(0,3),isBooleanField(t){return"checkbox"===this.schema.find((function(e){return e.name===t})).type}}},Jr=s(1123),Wr=s.n(Jr),Yr=(s(91),{components:{vfButton:R.a},props:["login"],computed:{provider(){return"vf-".concat(this.login.provider)},classes(){return{["vf-".concat(this.login.provider,"-login")]:!0}},ariaLabel(){return this.login.provider}},methods:{onThirdPartyIconClick(t){var e=t.target.closest("li").getAttribute("data-thirdparty").replace("vf-","");this.$publish(a.p.CHANNEL,a.p.EVENTS.SOCIAL,e)}}}),Zr=Object(j.a)(Yr,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"vf-thirdparty-control",attrs:{"data-thirdparty":t.provider}},[s("vf-button",{staticClass:"vf-thirdparty-icon",class:t.classes,attrs:{"aria-label":t.ariaLabel},nativeOn:{click:function(e){return t.onThirdPartyIconClick(e)}},scopedSlots:t._u([{key:"default",fn:function(){return[t.login.icon?s(t.login.icon,{tag:"component",attrs:{"aria-hidden":!0}}):s("span",{staticClass:"vf-social-icon",attrs:{"aria-hidden":!0}})]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,Xr=s(1124),Qr=s(1126),tn=s(1128),en=s(1130),sn=s(1132),rn=s(1134),nn=s(1297),an=function(t){switch(t){case"facebook":return Xr.a;case"google":return Qr.a;case"linkedin":return tn.a;case"windowslive":return en.a;case"twitter":return sn.a;case"yahoo":return rn.a;case"apple":return nn.a;default:return""}},on={apple:"authprovider_apple_enabled",facebook:"authprovider_facebook_enabled",google:"authprovider_google_enabled",linkedin:"authprovider_linkedin_enabled",twitter:"authprovider_twitter_enabled",windowslive:"authprovider_windowslive_enabled",yahoo:"authprovider_yahoo_enabled"},cn=T.default.extend({components:{vfThirdpartyService:Zr},inject:["settings"],props:["ariaHeaderText"],data(){return{showMore:this.$i18n("feed.account.nav.show_more")}},computed:{fullLoginList(){var t=this;return Yi.h.filter((function(e){return t.settings[on[e]]})).map((function(t){return{provider:t,icon:an(t)}}))},loginList(){return this.fullLoginList.slice(0,6)},showMoreList(){return this.fullLoginList.slice(6)}},methods:{toggleText(t){t.target.control.checked?this.showMore=this.$i18n("feed.account.nav.show_more"):this.showMore=this.$i18n("feed.account.nav.show_less")}},template:Wr.a}),ln=s(1136),un=s.n(ln),fn=s(1137),dn=s.n(fn),pn=s(1138),hn=s.n(pn),vn=T.default.extend({data:()=>({title:"",description:"",viewBox:"0 0 0 0",defs:"",graphics:""}),computed:{getClasses:()=>"",getTransform:()=>"",getGraphics(){return this.graphics}},template:hn.a}).extend({data:()=>({viewBox:"0 0 97 53",graphics:dn.a,title:"none",description:"none"})}),mn=T.default.extend({components:{signUpIllustration:vn},template:un.a}),gn=s(893);function bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==s)return;var i,r,n=[],a=!0,o=!1;try{for(s=s.call(t);!(a=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _n(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}var yn={props:{parentMessages:{default:function(){return[]}}},inject:["settings"],created(){this.$subscribe(a.p.CHANNEL,a.p.EVENTS.SUCCESS,this.onLoginSuccess)},data:()=>({fields:[],values:{},status:Ji.a.NONE,componentKey:0}),computed:{schema(){var t=this;return this.fields.map((function(e){return{key:e.key||e.name,name:e.name,label:t.labels[e.key||e.name],type:e.type}})).map(Mr.a)}},methods:{validateProp(t,e,s){var i=e(t);return i||this.messages.push(["error",this.$i18n(s)]),i},validateName(t){return this.validateProp(t,Rr.d,"feed.account.error.name")},validateEmail(t){return this.validateProp(t,Rr.d,"feed.account.error.email")},validatePassword(t){return this.validateProp(t,Rr.g,"feed.account.error.password")},clearMessage(t){this.messages=this.messages.filter((function(e){var s=bn(e,2),i=s[0],r=s[1];return i!==t[0]||r!==t[1]}))},onLoginSuccess(){this.status=Ji.a.NONE,this.componentKey++}},components:{vfForm:gn.a}},wn={extends:yn,data(){return{fields:[{key:"email",name:"vf-form-email",type:"email"},{key:"password",name:"vf-form-password",type:"password"}],messages:this.parentMessages,labels:{email:this.$i18n("feed.account.input.email"),password:this.$i18n("feed.account.input.password"),login:this.$i18n("feed.account.nav.login"),ariaHeaderText:this.$i18n("tray.authentication.login.aria.email")}}},computed:{settings(){return this.store.getters(r.Jc)}},created(){this.FORGOT_PASSWORD="fp",this.$subscribe(a.p.CHANNEL,a.p.EVENTS.FAILURE,this.login_fail),this.$subscribe("view/forms","try/login",this.loginOnSubmit)},methods:{validateForm(t,e){return this.messages=[],this.status===Ji.a.NONE&&this.validateEmail(t)&&this.validatePassword(e)},loginOnSubmit(t){this.values=t;var e=this.values,s=e.email,i=e.password;this.validateForm(s,i)&&(this.status=Ji.a.PENDING,this.$publish(a.c.CHANNEL,a.c.EVENTS.LOGIN,s,i))},login_fail(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Ji.a.NONE;var e=this.getLoginErrorMessage(t),s=e.message,i=e.link;this.messages=[["error",s,i]]},getLoginErrorMessage(t){return t&&"login_banned"===t.error_key?{message:this.getBanError(t)}:403===t.http_status?{message:this.$i18n("feed.account.error.cookies_blocked"),link:{href:"https://documentation.viafoura.com/docs/how-to-allow-third-party-cookie-access/",text:this.$i18n("feed.account.error.learn_more")}}:{message:this.$i18n("feed.account.error.login")}},getBanError(t){var e=t.reason,s=t.endDate,i=t.isPermanent;return this.$i18n("error.login_banned",{reason:e,endDate:new Date(s),isPermanent:i})}}},On=Object(j.a)(wn,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"vf-relative"},[s("h4",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.labels.ariaHeaderText)+"\n    ")]),t._v(" "),t.settings.authprovider_viafoura_enabled?s("vf-form",{key:t.componentKey,attrs:{id:"vf-login-form",schema:t.schema,status:t.status,messages:t.messages,"button-text":t.labels.login},on:{"form-submit":t.loginOnSubmit,"clear-message":t.clearMessage}}):t._e(),t._v(" "),t.settings.authprovider_viafoura_enabled?s("a",{staticClass:"vf-forgot-pw-link vf-accent-colour vf-accent-hoverable",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("view-switch",t.FORGOT_PASSWORD)}}},[t._v("\n        "+t._s(t.$i18n("feed.login.nav.forgot"))+"\n    ")]):t._e()],1)}),[],!1,null,null,null).exports,Cn=s(876),En={extends:yn,data(){return{fields:[{name:"name",type:"text"},{name:"email",type:"email"},{name:"password",type:"password"}],statusKey:"",labels:{name:this.$i18n("feed.account.input.name"),email:this.$i18n("feed.account.input.email"),password:this.$i18n("feed.account.input.password"),signup:this.$i18n("feed.account.nav.signup"),ariaHeaderText:this.$i18n("tray.authentication.signup.aria.email")},messages:this.parentMessages,email_verification_enabled:this.settings.enable_email_verification}},created(){this.$subscribe(a.c.CHANNEL,a.c.EVENTS.SIGNUP_FAILURE,this.parseSignupFailure),this.$subscribe("view/forms","try/signup",this.signup)},mounted(){this.afterRender()},methods:{validateForm(){var t=this.values,e=t.name,s=t.email,i=t.password;return this.messages=[],this.status===Ji.a.NONE&&this.validateName(e)&&this.validateEmail(s)&&this.validatePassword(i)},signup(t){this.values=t,this.validateForm()&&(this.isRecaptchaEnabled()?Cn.a.execute():this.signupAction())},parseSignupFailure(t){this.status=Ji.a.NONE;var e=this.getErrorMessage(t);this.messages=[["error",e]]},getErrorMessage(t){return t.validation_errors.password.includes("min_length")?this.$i18n("feed.account.error.password"):400===t.http_status?this.$i18n("feed.account.error.signup"):this.$i18n("feed.account.error.login")},afterRender(){Cn.a.load("vf-signup-g-recaptcha-submit",this.signupAction)},isRecaptchaEnabled(){return this.settings.enable_recaptcha},signupAction(t){var e=this.values,s=e.name,i=e.email,r=e.password;this.status=Ji.a.PENDING,this.$publish(a.c.CHANNEL,a.c.EVENTS.SIGNUP,s,i,r,t)}}},jn=Object(j.a)(En,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"vf-relative"},[s("h4",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.labels.ariaHeaderText)+"\n    ")]),t._v(" "),t.settings.authprovider_viafoura_enabled?s("vf-form",{key:t.componentKey,attrs:{id:"vf-signup-form",schema:t.schema,status:t.status,messages:t.messages,"button-text":t.labels.signup},on:{"form-submit":t.signup,"clear-message":t.clearMessage}},[s("div",{staticClass:"vf-signup-recaptcha",attrs:{id:"vf-signup-g-recaptcha-submit"}})]):t._e()],1)}),[],!1,null,null,null).exports,$n=s(5),xn=function(t){var e=$n.vuexStore.getInstance().getters[r.Sc]();return!(t.authprovider_backplane_v1_2_enabled||t.authprovider_backplane_v2_enabled||t.authprovider_loginradius_enabled&&!e||t.authprovider_oauth2_enabled||t.authprovider_oauth_enabled||!t.authprovider_viafoura_enabled||t.disable_widget_logins)};function Sn(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Tn(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Sn(Object(s),!0).forEach((function(e){Pn(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Sn(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Pn(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Nn={props:{messages:h.a.array,authMethod:h.a.oneOf(["login","signup"]).def("login")},data(){return{tabs:[{name:"login",i18nKey:"feed.account.nav.login",ariaLabel:this.$i18n("feed.account.nav.login")},{name:"signup",i18nKey:"feed.account.nav.signup",ariaLabel:this.$i18n("feed.account.nav.signup")}]}},computed:Tn(Tn({},Object(d.c)({settings:r.Jc})),{},{showTrayAuthentication(){return xn(this.settings)}}),components:{vfTabbedNavigation:_.a,vfAccountBackdrop:mn,vfThirdpartyIcons:cn,vfLoginForm:On,vfSignupForm:jn}},kn=Object(j.a)(Nn,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showTrayAuthentication?s("div",{staticClass:"vf-account vf-empty-bg-colour"},[s("h2",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("tray.authentication.aria.header"))+"\n    ")]),t._v(" "),s("p",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("tray.authentication.aria.description"))+"\n    ")]),t._v(" "),s("vf-account-backdrop"),t._v(" "),s("vf-tabbed-navigation",{attrs:{tabs:t.tabs,"initial-tab":t.authMethod,"nav-label":t.$i18n("tray.authentication.aria.header"),"full-width-nav":""},scopedSlots:t._u([{key:"button",fn:function(e){var i=e.tab;return[s("span",{staticClass:"vf-nav-label"},[t._v(t._s(t.$i18n(i.i18nKey)))])]}},{key:"login",fn:function(){return[s("h3",{staticClass:"vf-account-header-text"},[t._v("\n                "+t._s(t.$i18n("feed.login.nav.thirdparty"))+"\n            ")]),t._v(" "),s("vf-thirdparty-icons",{staticClass:"vf-accent-fill-colour vf-accent-colour",attrs:{"aria-header-text":t.$i18n("tray.authentication.login.aria.social")}}),t._v(" "),s("vf-login-form",{attrs:{"parent-messages":t.messages},on:{"view-switch":function(e){return t.$emit("view-switch",e)}}})]},proxy:!0},{key:"signup",fn:function(){return[s("h3",{staticClass:"vf-account-header-text"},[t._v("\n                "+t._s(t.$i18n("feed.signup.nav.thirdparty"))+"\n            ")]),t._v(" "),s("vf-thirdparty-icons",{staticClass:"vf-accent-fill-colour vf-accent-colour",attrs:{"aria-header-text":t.$i18n("tray.authentication.signup.aria.social")}}),t._v(" "),s("vf-signup-form",{attrs:{"parent-messages":t.messages}})]},proxy:!0}],null,!1,1390626714)})],1):t._e()}),[],!1,null,null,null).exports,Un={facebook:".vf-facebook-login .vf-social-icon-mount",google:".vf-google-login .vf-social-icon-mount",linkedin:".vf-linkedin-login .vf-social-icon-mount",twitter:".vf-twitter-login .vf-social-icon-mount",windowslive:".vf-windowslive-login .vf-social-icon-mount",yahoo:".vf-yahoo-login .vf-social-icon-mount",apple:".vf-apple-login .vf-social-icon-mount"},In={props:["headerText"],mounted(){var t=this;this.$store.dispatch(i.Tc).then((function(){return t.$store.dispatch(i.Vc)})).then((function(){return t.injectSocialIcons()}))},methods:{injectSocialIcons(){var t=this;Yi.h.forEach((function(e){var s=Object(br.a)(Un[e],t.$el),i=an(e);(new(T.default.extend({components:{vfIcon:i},template:"<vf-icon />"}))).$mount(s)}))}}},An=Object(j.a)(In,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vf-account-thirdparty"},[e("h1",{staticClass:"vf-account-header-text h3"},[this._v("\n        "+this._s(this.headerText)+"\n    ")]),this._v(" "),e("ul",{staticClass:"vf-svod-thirdparty vf-account-thirdparty-controls vf-social-logins vf-flex-container vf-accent-colour",attrs:{id:"vf-svod-thirdparty"}}),this._v(" "),e("script",{attrs:{id:"loginradiuscustom_tmpl",type:"text/template"}},[this._v('\n        <li class="vf-thirdparty-control vf-social-login-option vf-<#=Name.toLowerCase()#>-login">\n        <button\n        class="vf-button vf-thirdparty-icon"\n        onclick="return window.vf.$publish(\\\'authentication-svod\\\', \\\'social-login\\\', \'<#=Endpoint#>\');"\n        title="<#=Name#>"\n        >\n        <span class="vf-social-icon-mount"/>\n        </button>\n        </li>\n    ')])])}),[],!1,null,null,null).exports,Ln={extends:On,mounted(){this.$subscribe("authentication-svod","social-login",this.onSocialIconClick)},methods:{loginOnSubmit(t){this.values=t;var e=this.values,s=e.email,r=e.password;return this.validateForm(s,r)?(this.status=Ji.a.PENDING,this.$store.dispatch(i.Uc,{email:s,password:r})):Promise.resolve()},getErrorMessage(t){return"login_banned"===t.error_key?this.getBanError(t):t.reason?t.reason:this.$i18n("feed.account.error.login")},onSocialIconClick(t){this.status=Ji.a.PENDING,this.$store.dispatch(i.Wc,t)}}},Dn=s(1139),Mn={extends:jn,template:s.n(Dn).a,props:{lrSchema:{required:!0}},mounted(){this.$subscribe("authentication-svod","social-login",this.onSocialIconClick)},computed:{schema(){return this.lrSchema.map((function(t){return{key:t.name,name:t.name,label:t.display,type:t.type,options:t.options,rules:t.rules}})).map(Mr.a)}},methods:{validateForm(){this.messages=[];var t=this.values,e=t.emailid,s=t.password;return this.status===Ji.a.NONE&&this.validateRequiredFieldsFilled()&&this.validateEmail(e)&&this.validatePassword(s)},validateRequiredFieldsFilled(){var t=this,e=!0;return this.schema.filter((function(t){return t.isRequired})).forEach((function(s){t.values[s.key]||(t.messages.push(["error",t.$i18n("feed.account.error.required",{field:s.label})]),e=!1)})),e},signupAction(){this.status=Ji.a.PENDING;var t=Object(Fr.d)(this.values);return this.$store.dispatch(i.Xc,t)},getId:t=>"vf-form-".concat(t),getErrorMessage(t){return t.reason?t.reason:400===t.statusCode?this.$i18n("feed.account.error.signup"):this.$i18n("feed.account.error.login")},onSocialIconClick(t){this.status=Ji.a.PENDING,this.$store.dispatch(i.Wc,t)}},components:{vfForm:gn.a}};function Fn(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Rn(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Fn(Object(s),!0).forEach((function(e){Bn(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Fn(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Bn(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Hn={props:{messages:h.a.array},data(){return{currentTab:"login",showAdditionalInfo:!1,tabs:[{name:"login",i18nKey:"feed.account.nav.login",ariaLabel:this.$i18n("feed.account.nav.login")},{name:"signup",i18nKey:"feed.account.nav.signup",ariaLabel:this.$i18n("feed.account.nav.signup")}]}},mounted(){this.$subscribe("svod-authentication","additional-information",this.onAdditionalInfo)},computed:Rn(Rn({},Object(d.c)({registrationSchema:r.Rc,settings:r.Jc})),{},{schema(){return this.registrationSchema()},classes(){return{"vf-svod-additional-info":this.showAdditionalInfo}},visibleTabs(){var t=this;return this.showAdditionalInfo?this.tabs.filter((function(e){return e.name===t.currentTab})):this.tabs},showTrayAuthentication(){return xn(this.settings)}}),methods:{onAdditionalInfo(){this.showAdditionalInfo=!0},thirdpartyHeader(t){return this.showAdditionalInfo?this.$i18n("feed.additionalInfo.nav.thirdparty"):this.$i18n(t)},onTabChange(t){this.currentTab=t}},components:{vfTabbedNavigation:_.a,vfAccountBackdrop:mn,vfSvodThirdparty:An,vfSvodLoginForm:Ln,vfSvodSignupForm:Mn}},Vn=Object(j.a)(Hn,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showTrayAuthentication?s("div",{staticClass:"vf-account vf-empty-bg-colour"},[s("h2",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("tray.authentication.aria.header"))+"\n    ")]),t._v(" "),s("p",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("tray.authentication.aria.description"))+"\n    ")]),t._v(" "),s("vf-account-backdrop"),t._v(" "),s("vf-tabbed-navigation",{attrs:{"full-width-nav":"",tabs:t.visibleTabs,"initial-tab":t.currentTab,"nav-label":t.$i18n("tray.authentication.aria.header")},on:{"tab-to":t.onTabChange},scopedSlots:t._u([{key:"button",fn:function(e){var i=e.tab;return[s("span",{staticClass:"vf-nav-label"},[t._v(t._s(t.$i18n(i.i18nKey)))])]}},{key:"login",fn:function(){return[s("vf-svod-thirdparty",{staticClass:"vf-accent-fill-colour",class:t.classes,attrs:{"header-text":t.thirdpartyHeader("feed.login.nav.thirdparty")}}),t._v(" "),t.showAdditionalInfo?t._e():s("vf-svod-login-form",{attrs:{"lr-schema":t.schema,"parent-messages":t.messages},on:{"view-switch":function(e){return t.$emit("view-switch",e)}}})]},proxy:!0},{key:"signup",fn:function(){return[s("vf-svod-thirdparty",{staticClass:"vf-accent-fill-colour",class:t.classes,attrs:{"header-text":t.thirdpartyHeader("feed.signup.nav.thirdparty")}}),t._v(" "),t.showAdditionalInfo?t._e():s("vf-svod-signup-form",{attrs:{"lr-schema":t.schema,"parent-messages":t.messages}})]},proxy:!0}],null,!1,594549807)})],1):t._e()}),[],!1,null,null,null).exports,zn=s(1140),qn={components:{vfStatus:wr.a,vfChevronLeft:zn.a,loaderButton:Or.a},inject:[mt.b,mt.a],data:()=>({email:"",isLoading:!1,messages:[]}),computed:{classes(){return{"vf-forgot-password-reset-loading":this.isLoading,"vf-heading-bg-colour":this.isLoading}},status(){return this.isLoading?Ji.a.PENDING:Ji.a.NONE}},beforeCreate(){this.AUTHENTICATION="auth"},mounted(){var t=this;this.$subscribe("account","reset/failure",(function(){t.isLoading=!1,t.messages=[["error",t.$i18n("feed.alerts.no_reset")]]}))},methods:{onClick(){var t=this;this.isLoading=!0,this.errorKey="",setTimeout((function(){t.$publish(a.a.CHANNEL,a.a.EVENTS.RESET,t.email)}),500)}}},Gn=Object(j.a)(qn,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vf-forgot-password"},[s("form",{staticClass:"vf-flex-container vf-forgot-password-form"},[s("a",{staticClass:"vf-flex-container vf-forgot-password-back",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("view-switch",t.AUTHENTICATION)}}},[s("vf-chevron-left",{attrs:{size:t.SIZES.SMALL}}),t._v(" "),s("span",{staticClass:"vf-forgot-password-back-message vf-primary-colour vf-primary-hoverable"},[t._v(t._s(t.$i18n("profile.back")))])],1),t._v(" "),s("h1",{staticClass:"h2 vf-forgot-password-title"},[t._v("\n            "+t._s(t.$i18n("feed.account.forgot_password.title"))+"\n        ")]),t._v(" "),s("p",{staticClass:"vf-forgot-password-description"},[t._v("\n            "+t._s(t.$i18n("feed.account.forgot_password.description"))+"\n        ")]),t._v(" "),t._l(t.messages,(function(t){return s("vf-status",{key:t[1],attrs:{level:t[0],text:t[1]}})})),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"vf-forgot-password-email vf-secondary-border-colour",attrs:{type:"email",placeholder:t.$i18n("feed.account.forgot_password.email")},domProps:{value:t.email},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.onClick(e))},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("loader-button",{staticClass:"vf-forgot-password__reset",class:t.classes,attrs:{palette:t.PALETTES.ACCENT,status:t.status,size:"large","is-cta":""},nativeOn:{click:function(e){return t.onClick(e)}}},[t._v("\n            "+t._s(t.$i18n("settings.controls.reset"))+"\n        ")])],2)])}),[],!1,null,"5c6cff8a",null).exports,Kn={extends:Gn,methods:{onClick(){this.errorKey="",this.isLoading=!0,this.$store.dispatch(i.Qc,this.email)}}},Jn={fp:Gn,auth:kn};Jn.DEFAULT=Jn.auth;var Wn={fp:Kn,auth:Vn};Wn.DEFAULT=Wn.auth;var Yn=_s.extend({props:{tabOptions:Object},mounted(){var t=this;this.$subscribe("account","reset/success",(function(e){t.messages=[["success",t.$i18n("feed.account.reset.success",{email:e})]],t.view=t.views.DEFAULT}))},data(){var t=this.$store.getters[r.Sc](),e=t?Wn:Jn;return{isSvodEnabled:t,views:e,view:e.DEFAULT,messages:[]}},methods:{switchViews(t){this.view=this.views[t]}}}),Zn=Object(j.a)(Yn,(function(){var t=this.$createElement;return(this._self._c||t)(this.view,{tag:"component",attrs:{messages:this.messages,"auth-method":this.tabOptions.authMethod},on:{"view-switch":this.switchViews}})}),[],!1,null,null,null).exports,Xn=s(672);function Qn(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ta(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Qn(Object(s),!0).forEach((function(e){ea(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Qn(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function ea(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var sa={DEFAULT:as,PROFILE:di,COMMUNITY:qi,SETTINGS:Ir,SVOD_SETTINGS:Kr,ACCOUNT:Zn},ia={provide(){return{settings:this.settings,sectionTree:this.sectionTree}},data:()=>({isOpen:!1,currentTab:f.c.DEFAULT,tabOptions:{},dataVfId:-1,profileUserId:null,subscriber_id:void 0,hasFeedBeenSeen:!1}),computed:ta(ta({},Object(d.c)({currentUser:r.hb,settings:r.Jc,sectionTree:r.Ic,rootSectionUuid:r.yc})),{},{isCurrentUserLoggedIn(){return Object(b.H)(this.currentUser)},languageClasses(){var t=this.$store.getters[r.vb].language;return"lang-".concat(t)}}),mounted(){var t=this;this.hasSetScrollbarOffset=!1,this.profileUserId=this.currentUser.uuid,this.$subscribe(a.p.CHANNEL,a.p.EVENTS.SUCCESS,(function(e){var s=e.uuid;t.profileUserId=s})),window.vf.context.init(l.a.NOTIFICATIONS),this.$subscribe(a.C.CHANNEL,a.C.EVENTS.OPEN,(function(){window.localStorage.setItem("_vf_notification_queue_last_seen_".concat(t.currentUser.uuid),Date.now())})),this.trayLoaded(),this.$subscribe(a.E.CHANNEL,a.E.EVENTS.LOADED,this.onRealtimeUserChange),this.subscribeToNotifications()},methods:{onOpened(){this.$publish(a.C.CHANNEL,a.C.EVENTS.OPENED,this.currentTab),this.currentTab===f.c.DEFAULT&&(this.hasFeedBeenSeen=!0)},onClosed(){this.$publish(a.C.CHANNEL,a.C.EVENTS.CLOSED),this.hasFeedBeenSeen&&this.isCurrentUserLoggedIn&&(this.$store.dispatch(i.bc),this.hasFeedBeenSeen=!1);var t=window.localStorage.getItem("_vf_notification_queue_last_seen_".concat(this.currentUser.uuid));this.hasFeedBeenSeen&&!this.isCurrentUserLoggedIn&&null!==t&&(this.$store.commit(n.fc,t),this.hasFeedBeenSeen=!1)},open(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.c.DEFAULT,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isOpen=!0,this.$publish(a.D.CHANNEL,a.D.EVENTS.CHANGE,e,s),this.$publish(a.I.CHANNEL,a.I.EVENTS.HIDE)},close(){this.isOpen=!1,this.$publish(a.I.CHANNEL,a.I.EVENTS.UNHIDE)},toggle(t,e){this.isOpen?this.$publish(a.C.CHANNEL,a.C.EVENTS.CLOSE):this.$publish(a.C.CHANNEL,a.C.EVENTS.OPEN,t,e)},openProfile(t,e){var s=this;return this.$store.dispatch(i.wc,{user:e}).then((function(e){var i=e.uuid;s.profileUserId=i||s.currentUser.uuid,s.$publish(a.C.CHANNEL,a.C.EVENTS.OPEN,t,f.c.PROFILE,{user_uuid:i})}))},changeCurrentTab(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(f.d)(t)||(t=f.c.DEFAULT),s.user_uuid=s.user_uuid||this.currentUser.uuid;var i=s.silent;switch(Object.keys(s).forEach((function(t){e.$set(e.tabOptions,t,s[t])})),t){case f.c.ACCOUNT:if(this.isCurrentUserLoggedIn)t=f.c.DEFAULT;else if(!xn(this.settings))return;break;case f.c.COMMUNITY:this.isCurrentUserLoggedIn||i||this.$publish(a.c.CHANNEL,a.c.EVENTS.NEEDED,{action:o.E});break;case f.c.PROFILE:Object(b.H)({uuid:s.user_uuid})||i||this.$publish(a.c.CHANNEL,a.c.EVENTS.NEEDED,{action:o.I});break;case f.c.SETTINGS:if(!this.isCurrentUserLoggedIn)return}t===f.c.DEFAULT&&(this.hasFeedBeenSeen=!0),this.currentTab=t},viewForTab(t){switch(t){case f.c.DEFAULT:return sa.DEFAULT;case f.c.ACCOUNT:return sa.ACCOUNT;case f.c.COMMUNITY:return this.isCurrentUserLoggedIn?sa.COMMUNITY:sa.ACCOUNT;case f.c.PROFILE:return Object(b.H)({uuid:this.tabOptions.user_uuid})?sa.PROFILE:sa.ACCOUNT;case f.c.SETTINGS:return this.isCurrentUserLoggedIn?this.$store.getters[r.Sc]()?sa.SVOD_SETTINGS:sa.SETTINGS:sa.ACCOUNT}return sa.DEFAULT},trayLoaded(){this.$publish(a.H.CHANNEL,a.H.EVENTS.LOADED,this)},subscribeToNotifications(){this.rtSubscribe({section_uuid:[this.rootSectionUuid],event_type:[c.b.NOTIFICATION_BROADCAST],action:[c.a.NOTIFIED]}),this.currentUser.uuid!==u.b&&(this.subscriber_id=this.currentUser.uuid,this.rtSubscribe({message_type:[c.b.NOTIFICATION],action:[c.a.NOTIFIED],recipient_uuid:[this.subscriber_id]},void 0,this.subscriber_id))},onRealtimeUserChange(){this.subscriber_id&&this.rtUnsubscribe(this.subscriber_id),this.subscribeToNotifications()},handleOutsideClick(t){return"mousedown"!==t.type&&(t.target&&null!==t.target.closest(".".concat(f.b))||this.close(),!0)},setScrollbarOffset(){var t=this;this.hasSetScrollbarOffset||requestAnimationFrame((function(){var e=t.$refs.scrollingElement,s=e.offsetWidth-e.clientWidth,i=t.$refs.scrollingWrapper.$el.style;i.right="".concat(-s,"px"),i.maxWidth="calc(100% + ".concat(s,"px)"),t.hasSetScrollbarOffset=!0}))}},components:{vfModerationStatus:J,trayNavigation:$,FocusTrap:Xn.FocusTrap}},ra=Object(j.a)(ia,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vf-tray-wrapper",class:t.languageClasses},[s("transition",{attrs:{"data-vf-id":t.dataVfId,name:"slide-in-right","initial-focus":".vf-tray-close"},on:{enter:t.setScrollbarOffset,"after-enter":t.onOpened,"after-leave":t.onClosed}},[s("focus-trap",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],ref:"scrollingWrapper",staticClass:"vf-tray-slide-wrapper",attrs:{"deactivate-on-esc":"","return-focus-on-deactivate":"","allow-outside-click":t.handleOutsideClick,active:t.isOpen},on:{deactivated:t.close}},[s("div",{ref:"scrollingElement",staticClass:"vf-tray"},[s("vf-moderation-status"),t._v(" "),s("tray-navigation",{attrs:{"active-tab":t.currentTab,"show-settings":t.isCurrentUserLoggedIn},scopedSlots:t._u([{key:t.currentTab,fn:function(){return[s(t.viewForTab(t.currentTab),{tag:"component",staticClass:"vf-flex-grow js-tray-section vf-tray-component",attrs:{"data-view-name":t.currentTab,"tab-options":t.tabOptions}})]},proxy:!0}],null,!0)})],1)])],1)],1)}),[],!1,null,null,null);e.default=ra.exports},661:function(t,e,s){"use strict";var i=s(641);s.d(e,"a",(function(){return i.b}))},668:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var i={ERROR:"error",WARNING:"warning"}},670:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var i=s(37),r=s(678),n=s.n(r),a=s(668),o=s(655),c={[a.a.ERROR]:"vf-status-message-error",[a.a.WARNING]:"vf-status-message-warning"},l=i.default.extend({components:{vfExclamationMarkIcon:o.a},props:["type"],methods:{getClasses(){return{"vf-flex":!0,"vf-status-message":!0,[c[this.type]]:!0}}},template:n.a})},678:function(t,e){t.exports='<div class="vf-flex vf-status-message" :class="getClasses()">\n    <div class="vf-status-message-triangle vf-status-message-triangle-upper"></div>\n    <div class="vf-status-message-badge vf-flex">\n        <div class="icon">\n            <vf-exclamation-mark-icon class="vf-status-message-icon vf-icon-medium"></vf-exclamation-mark-icon>\n        </div>\n        <slot name="vf-status-message-content"></slot>\n    </div>\n</div>\n'},691:function(t,e,s){"use strict";var i=s(405),r={props:{palette:{type:String,default:i.a.ACCENT}}},n=s(56),a=Object(n.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vf-unseen-notifier",class:["vf-unseen-notifier--"+this.palette]})}),[],!1,null,"0418c2fe",null);e.a=a.exports},694:function(t,e,s){"use strict";s.d(e,"c",(function(){return r})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return a})),s.d(e,"a",(function(){return o}));var i=s(22),r=function(t){return 1===t.anonymous},n=function(t,e){return Object(i.H)(t)&&Object(i.E)(t,e)},a=function(t,e){var s=e.enable_username_premoderation;return Object(i.H)(t)&&s&&!Object(i.J)(t.username_moderation_status)},o=function(t,e){var s=e.enable_avatar_premoderation;return Object(i.H)(t)&&s&&!Object(i.J)(t.avatar_moderation_status)}},722:function(t,e,s){"use strict";s(38),s(17),s(26),s(3),s(15),s(16),s(57);var i=s(0),r=s(141),n=s(874),a=s.n(n),o=s(661).a.extend({data:()=>({graphics:a.a})}),c=s(108);function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){f(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function f(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var d=c.e*c.c*c.b,p={props:{descriptor:{type:String,default:""},timestamp:{type:Number,default:0},hasClock:{type:Boolean,default:!0},formatAmPm:{type:Boolean,default:!1}},computed:u(u({},Object(r.c)({getDateTimeFormat:i.wb,currentTime:i.gb,relativeTime:i.xc})),{},{iso(){return new Date(this.timestamp).toISOString()},relative(){return this.relativeTime(this.timestamp)},amPm(){return this.getDateTimeFormat(this.timestamp,{hour:"numeric",minute:"numeric",hour12:!0})},full(){var t=this.getDateTimeFormat(this.timestamp,{day:"numeric",month:"numeric",year:"numeric"}),e=this.getDateTimeFormat(this.timestamp,{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});return"".concat(e," -- ").concat(t)},displayedTime(){return this.formatAmPm&&this.lessThan12HoursAgo?this.amPm:this.relative},lessThan12HoursAgo(){return(this.currentTime-this.timestamp)/d<12}}),components:{vfClockIcon:o}},h=s(56),v=Object(h.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"timestamp vf-label-text"},[t.hasClock?s("vf-clock-icon",{staticClass:"vf-icon-small"}):t._e(),t._v(" "),t.descriptor?s("span",[t._v("\n        "+t._s(t.descriptor)+"\n    ")]):t._e(),t._v(" "),s("time",{attrs:{title:t.full,datetime:t.iso}},[t._v("\n        "+t._s(t.displayedTime)+"\n    ")])],1)}),[],!1,null,null,null);e.a=v.exports},758:function(t,e,s){"use strict";s(3),s(17),s(26),s(15),s(16),s(57);var i=s(141),r=s(0),n=s(307),a=s(124),o=s(652),c=s(653);function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){f(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function f(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var d={components:{vfButton:s(651).a},inject:[n.b,n.a],props:{isFollowing:{type:Boolean,required:!0},unfollowText:{type:String,required:!0},isFollowingText:{type:String,required:!0},isNotFollowingText:{type:String,required:!0},isFollowingAria:{type:String,required:!0},isNotFollowingAria:{type:String,required:!0}},data:()=>({isEntered:!1,wasJustClicked:!1}),computed:u(u({},Object(i.c)({currentUser:r.hb})),{},{currentText(){return this.canShowUnfollow?this.unfollowText:this.isFollowing?this.isFollowingText:this.isNotFollowingText},currentAriaLabel(){return this.isFollowing?this.isFollowingAria:this.isNotFollowingAria},currentPalette(){return this.canShowUnfollow?this.PALETTES.DANGER:this.isFollowing?this.PALETTES.SUCCESS:this.PALETTES.ACCENT},longestText(){return[this.unfollowText,this.isFollowingText,this.isNotFollowingText].reduce((function(t,e){return t.length>e.length?t:e}))},canShowUnfollow(){return this.isFollowing&&!this.wasJustClicked&&this.isEntered},canFollow(){return this.isActionPermitted()}}),methods:{toggleEntered(t){this.isEntered=t,t||(this.wasJustClicked=!1)},setClicked(){this.wasJustClicked=!0},isActionPermitted(){var t=this;return![a.PENDING_NEW,a.REJECTED].some((function(e){return t.currentUser.username_moderation_status===e}))}},directives:{hovered:c.a,innerFocus:o.a}},p=s(56),h=Object(p.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vf-button",t._g(t._b({directives:[{name:"inner-focus",rawName:"v-inner-focus",value:t.toggleEntered,expression:"toggleEntered"},{name:"hovered",rawName:"v-hovered",value:t.toggleEntered,expression:"toggleEntered"}],staticClass:"vf-follow-button vf-label-text",attrs:{"is-cta":"",palette:t.currentPalette,size:t.SIZES.TINY,"is-inverted":!t.isFollowing,disabled:!t.canFollow},on:{click:t.setClicked}},"vf-button",t.$attrs,!1),t.$listeners),[s("span",{staticClass:"vf-offscreen-text",attrs:{"aria-live":"polite"}},[t._v("\n        "+t._s(t.currentAriaLabel)+"\n    ")]),t._v(" "),s("span",{staticClass:"vf-follow-button__text vf-flex vf-centered",attrs:{"aria-hidden":"true"}},[t._v("\n        "+t._s(t.currentText)+"\n    ")]),t._v(" "),s("span",{staticClass:"vf-follow-button__hidden-text",attrs:{"aria-hidden":"true"}},[t._v("\n        "+t._s(t.longestText)+"\n    ")])])}),[],!1,null,"6161f1f6",null);e.a=h.exports},874:function(t,e){t.exports='<circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="6" fill="none"></circle>\n<path stroke-width="6" stroke="currentColor" stroke-linecap="round" d="M50 50V22M50 50h28"></path>\n'},876:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));s(3),s(7);var i=s(43),r=s(0),n=s(5),a=s(49),o={load(t,e,s){var i=this;Promise.resolve(n.vuexStore.getInstance().getters[r.Jc]).then((function(r){(s||r.enable_recaptcha)&&(i.callback=function(t){window.grecaptcha.reset(i.clientId),e(t)},i.getRecaptcha().then(i.render.bind(i,t)))}))},execute(){window.grecaptcha.execute(this.clientId)},getRecaptcha:()=>new Promise((function(t){return window.grecaptcha?t(window.grecaptcha):Object(a.c)("https://www.google.com/recaptcha/api.js?render=explicit").then(c).then(t)})),render(t){var e=n.vuexStore.getInstance().getters[r.Jc].recaptcha_site_key||i.a.recaptcha_site_key;this.clientId=window.grecaptcha.render(t,{sitekey:e,callback:this.callback,size:"invisible",badge:"inline"})}};function c(){return new Promise((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if((e-=50)<=0)return t();if(window.grecaptcha)return window.grecaptcha.ready(t);return setTimeout((function(){return c()}),50)}(t)}))}},921:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));s(66);var i=2;function r(t,e){return t<.5?function(t,e){return Math.pow(t,e)}(2*t,e)/2:function(t,e){return 1-Math.abs(Math.pow(t-1,e))}(2*t-1,e)/2+.5}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return s*r(t/n,i)+e}var a={duration:1e3,isVertical:!1,cb:function(){}};function o(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.assign({},a,s),r=i.isVertical,o=i.duration,c=i.cb,l=r?"scrollTop":"scrollLeft",u=t[l],f=e-u,d=20,p=0,h=function e(){p+=d,t[l]=n(p,u,f,o),p<o?setTimeout(e,d):c()};setTimeout(h,d)}},954:function(t,e){t.exports='<path d="M7 13h6a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3v1.7c0 1.3.7 1.6 1.6.7L7 13z" fill-rule="evenodd"></path>\n'},955:function(t,e){t.exports='<path d="M17 4.5C17 6 16.2 7 16.2 7l-1.7 1.9-5 4.8c-.6.5-1.4.5-2 0l-5-4.8-1.7-2S0 5.9 0 4.6C0 2 2.1 0 4.8 0 6 0 7.4.5 8.2 1.4l.1.1c.1.1.3.1.4 0v-.1C9.8.5 11 0 12.3 0 15 0 17 2 17 4.5z" fill-rule="evenodd"></path>\n'},956:function(t,e){t.exports='<path d="M0 14a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v3H0v-3zm7-6a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" fill-rule="evenodd"></path>\n'}}]);
//# sourceMappingURL=tray.8e837fa9b04206b2cce9.js.map